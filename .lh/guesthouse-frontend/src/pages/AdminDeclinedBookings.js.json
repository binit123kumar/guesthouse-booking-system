{
    "sourceFile": "guesthouse-frontend/src/pages/AdminDeclinedBookings.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1758514483962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1758514483962,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\n\r\nconst AdminDeclinedBookings = () => {\r\n  const [declinedBookings, setDeclinedBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const fetchDeclinedBookings = () => {\r\n    setLoading(true);\r\n    fetch(\"http://localhost:5000/api/bookings\") // fetching all to filter declined ones\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const declined = data.filter(booking => booking.status === \"declined\");\r\n        setDeclinedBookings(declined);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error fetching declined bookings:\", err);\r\n        setLoading(false);\r\n        setMessage(\"Error fetching data.\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDeclinedBookings();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div style={styles.container}>Loading declined requests...</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.title}>‚ùå Declined Booking Requests</h2>\r\n      {message && <p style={styles.message}>{message}</p>}\r\n      \r\n      {declinedBookings.length === 0 ? (\r\n        <p style={styles.noRequests}>No declined booking requests at this time.</p>\r\n      ) : (\r\n        <div style={styles.cardContainer}>\r\n          {declinedBookings.map((booking) => (\r\n            <div key={booking.tempId} style={styles.bookingCard}>\r\n              <h3>{booking.fullName}</h3>\r\n              <p><strong>Room Type:</strong> {booking.roomType}</p>\r\n              <p><strong>Dates:</strong> {booking.checkInDate} to {booking.checkOutDate}</p>\r\n              <p><strong>Rooms:</strong> {booking.roomsRequired}</p>\r\n              <p><strong>Decline Reason:</strong> {booking.declineReason || \"N/A\"}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        padding: \"40px\",\r\n        background: \"#f8f9fc\",\r\n        minHeight: \"100vh\",\r\n        fontFamily: \"Segoe UI, sans-serif\",\r\n    },\r\n    title: {\r\n        fontSize: \"28px\",\r\n        marginBottom: \"20px\",\r\n        textAlign: \"center\",\r\n        color: \"#333\",\r\n    },\r\n    message: {\r\n        textAlign: \"center\",\r\n        color: \"#dc3545\",\r\n        fontWeight: \"bold\",\r\n    },\r\n    noRequests: {\r\n        textAlign: \"center\",\r\n        color: \"#666\",\r\n        fontSize: \"18px\",\r\n    },\r\n    cardContainer: {\r\n        display: \"grid\",\r\n        gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\",\r\n        gap: \"20px\",\r\n    },\r\n    bookingCard: {\r\n        background: \"#fff\",\r\n        padding: \"25px\",\r\n        borderRadius: \"10px\",\r\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n        borderLeft: \"5px solid #e74a3b\",\r\n    },\r\n};\r\n\r\nexport default AdminDeclinedBookings;"
        }
    ]
}