{
    "sourceFile": "guesthouse-frontend/src/pages/Booking.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1753928132680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757273543125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,211 +1,135 @@\n+// src/pages/Booking.js\r\n import React, { useState } from \"react\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n import { QRCodeSVG } from \"qrcode.react\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n \r\n function Booking() {\r\n   const navigate = useNavigate();\r\n   const [formData, setFormData] = useState({\r\n-    fullName: \"\",\r\n-    email: \"\",\r\n-    phone: \"\",\r\n-    roomType: \"\",\r\n-    checkIn: \"\",\r\n-    checkOut: \"\",\r\n-    paymentStatus: \"\",\r\n+    fullName: \"\", address: \"\", email: \"\", phone: \"\", purpose: \"\", roomType: \"\",\r\n+    roomsRequired: \"\", checkInDate: \"\", checkInTime: \"\", checkOutDate: \"\", checkOutTime: \"\",\r\n+    category: \"\", paymentStatus: \"\", guests: []\r\n   });\r\n-\r\n   const [amount, setAmount] = useState(0);\r\n   const [error, setError] = useState(\"\");\r\n \r\n-  const calculateDays = (checkIn, checkOut) => {\r\n-    const inDate = new Date(checkIn);\r\n-    const outDate = new Date(checkOut);\r\n-    const diffTime = outDate - inDate;\r\n-    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n+  // --- Calculate days and amount ---\r\n+  const calculateDays = (inDate, outDate) => { if(!inDate||!outDate) return 0; return Math.max(1, Math.ceil((new Date(outDate) - new Date(inDate))/(1000*60*60*24))); };\r\n+  const calculateAmount = (updated) => {\r\n+    const days = calculateDays(updated.checkInDate, updated.checkOutDate);\r\n+    const rooms = parseInt(updated.roomsRequired)||1;\r\n+    const guestsCount = updated.guests.length + 1;\r\n+    const minRooms = Math.ceil(guestsCount/3);\r\n+    const totalRooms = Math.max(rooms, minRooms);\r\n+    let rate = 0;\r\n+    switch(updated.roomType){ case \"Single\": rate=800; break; case \"Double\": rate=1200; break; case \"Suite\": rate=1800; break; default: rate=0; }\r\n+    return days>0 ? days*rate*totalRooms : 0;\r\n   };\r\n \r\n+  // --- Availability check ---\r\n+  const checkAvailability = async (checkInDate, checkOutDate, roomsRequired) => {\r\n+    const res = await fetch(\"http://localhost:5000/api/bookings\");\r\n+    const bookings = await res.json();\r\n+    const requestedRooms = parseInt(roomsRequired);\r\n+    const occupiedRooms = bookings.reduce((sum,b)=>{\r\n+      const existingCheckIn = new Date(`${b.checkInDate}T${b.checkInTime}`);\r\n+      const existingCheckOut = new Date(`${b.checkOutDate}T${b.checkOutTime}`);\r\n+      const reqCheckIn = new Date(`${checkInDate}T00:00`);\r\n+      const reqCheckOut = new Date(`${checkOutDate}T23:59`);\r\n+      if(reqCheckOut >= existingCheckIn && reqCheckIn <= existingCheckOut){\r\n+        return sum + (parseInt(b.roomsRequired)||1);\r\n+      }\r\n+      return sum;\r\n+    },0);\r\n+    const totalRooms = 20;\r\n+    return totalRooms - occupiedRooms >= requestedRooms;\r\n+  };\r\n+\r\n+  // --- Handle changes ---\r\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n-    const updatedData = { ...formData, [name]: value };\r\n-    setFormData(updatedData);\r\n-\r\n-    if ([\"roomType\", \"checkIn\", \"checkOut\"].includes(name)) {\r\n-      const days = calculateDays(updatedData.checkIn, updatedData.checkOut);\r\n-      let rate = 0;\r\n-      switch (updatedData.roomType) {\r\n-        case \"Single\": rate = 800; break;\r\n-        case \"Double\": rate = 1200; break;\r\n-        case \"Suite\": rate = 1800; break;\r\n-        default: rate = 0;\r\n-      }\r\n-      setAmount(days > 0 && rate > 0 ? rate * days : 0);\r\n+    const updated = {...formData, [name]: value};\r\n+    setFormData(updated);\r\n+    if([\"roomType\",\"checkInDate\",\"checkOutDate\",\"roomsRequired\"].includes(name)){\r\n+      setAmount(calculateAmount(updated));\r\n     }\r\n   };\r\n \r\n-  const handleSubmit = async (e) => {\r\n+  const handleGuestChange = (i, field, value) => {\r\n+    const guests = [...formData.guests]; guests[i][field]=value;\r\n+    setFormData({...formData, guests}); setAmount(calculateAmount({...formData, guests}));\r\n+  };\r\n+  const addGuest = ()=>setFormData({...formData, guests:[...formData.guests, {name:\"\",age:\"\",address:\"\",email:\"\",phone:\"\",purpose:\"\"}]});\r\n+  const removeGuest = (i)=>{ const guests=formData.guests.filter((_,idx)=>idx!==i); setFormData({...formData, guests}); setAmount(calculateAmount({...formData, guests})); };\r\n+\r\n+  // --- Submit Booking ---\r\n+  const handleSubmit = async (e)=>{\r\n     e.preventDefault();\r\n-    const { fullName, email, phone, roomType, checkIn, checkOut, paymentStatus } = formData;\r\n-\r\n-    if (!fullName || !email || !phone || !roomType || !checkIn || !checkOut || !paymentStatus) {\r\n-      setError(\"‚ö†Ô∏è Please fill in all fields.\");\r\n-      return;\r\n+    if(!formData.fullName || !formData.email || !formData.phone || !formData.roomType || !formData.checkInDate || !formData.checkOutDate){\r\n+      setError(\"‚ö†Ô∏è Please fill all required fields.\"); return;\r\n     }\r\n+    const available = await checkAvailability(formData.checkInDate, formData.checkOutDate, formData.roomsRequired);\r\n+    if(!available){ alert(\"‚ö†Ô∏è Rooms not available for selected dates\"); return; }\r\n \r\n-    const today = new Date().toISOString().split(\"T\")[0];\r\n-    if (checkIn < today) {\r\n-      setError(\"‚ö†Ô∏è Check-in date cannot be in the past.\");\r\n-      return;\r\n-    }\r\n-    if (checkOut <= checkIn) {\r\n-      setError(\"‚ö†Ô∏è Check-out must be after Check-in.\");\r\n-      return;\r\n-    }\r\n-\r\n-    setError(\"\");\r\n-\r\n-    const bookingData = { ...formData, amount, createdAt: new Date().toISOString() };\r\n-\r\n-    try {\r\n-      const res = await fetch(\"http://localhost:5000/api/bookings\", {\r\n-        method: \"POST\",\r\n-        headers: { \"Content-Type\": \"application/json\" },\r\n-        body: JSON.stringify(bookingData)\r\n-      });\r\n-\r\n+    const bookingData = {...formData, amount, createdAt:new Date().toISOString()};\r\n+    try{\r\n+      const res = await fetch(\"http://localhost:5000/api/bookings\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(bookingData)});\r\n       const result = await res.json();\r\n-\r\n-      if (result.success) {\r\n-        // ‚úÖ Redirect to Success Page with booking ID\r\n-        navigate(`/success?id=${result.id}`);\r\n-      } else {\r\n-        alert(\"‚ùå Failed to save booking.\");\r\n-      }\r\n-    } catch (err) {\r\n-      console.error(\"Error:\", err);\r\n-      alert(\"‚ö†Ô∏è Error occurred while saving.\");\r\n-    }\r\n+      result.success ? navigate(`/success?id=${result.id}`) : alert(\"‚ùå Booking Failed\");\r\n+    }catch{ alert(\"‚ö†Ô∏è Server Error\"); }\r\n   };\r\n \r\n-  const upiString = `upi://pay?pa=9525594357@naviaxis&pn=Guest House&am=${amount}&cu=INR&tn=Booking for ${formData.fullName}`;\r\n+  const upiString = amount>0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n \r\n   return (\r\n     <div style={styles.container}>\r\n-      <h2 style={styles.heading}>Guest House Booking Form</h2>\r\n+      <h2 style={styles.title}>Aryabhatta University ‚Äì Guest House Booking</h2>\r\n       <form onSubmit={handleSubmit} style={styles.form}>\r\n-        <input type=\"text\" name=\"fullName\" placeholder=\"Full Name\" value={formData.fullName} onChange={handleChange} style={styles.input} />\r\n-        <input type=\"email\" name=\"email\" placeholder=\"Email Address\" value={formData.email} onChange={handleChange} style={styles.input} />\r\n-        <input type=\"tel\" name=\"phone\" placeholder=\"Phone Number\" value={formData.phone} onChange={handleChange} style={styles.input} />\r\n-\r\n-        <select name=\"roomType\" value={formData.roomType} onChange={handleChange} style={styles.input}>\r\n-          <option value=\"\">Select Room Type</option>\r\n-          <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n-          <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n-          <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n+        {/* Basic fields */}\r\n+        <input style={styles.input} name=\"fullName\" value={formData.fullName} onChange={handleChange} placeholder=\"Full Name\" required/>\r\n+        <input style={styles.input} name=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Email\" required/>\r\n+        <input style={styles.input} name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Phone\" required/>\r\n+        <input style={styles.input} name=\"address\" value={formData.address} onChange={handleChange} placeholder=\"Address\"/>\r\n+        <input style={styles.input} name=\"purpose\" value={formData.purpose} onChange={handleChange} placeholder=\"Purpose of Visit\"/>\r\n+        <select style={styles.input} name=\"roomType\" value={formData.roomType} onChange={handleChange} required>\r\n+          <option value=\"\">Select Room Type</option><option value=\"Single\">Single</option><option value=\"Double\">Double</option><option value=\"Suite\">Suite</option>\r\n         </select>\r\n+        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"Rooms Required\" min=\"1\"/>\r\n+        <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required/>\r\n+        <input style={styles.input} type=\"time\" name=\"checkInTime\" value={formData.checkInTime} onChange={handleChange} required/>\r\n+        <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required/>\r\n+        <input style={styles.input} type=\"time\" name=\"checkOutTime\" value={formData.checkOutTime} onChange={handleChange} required/>\r\n \r\n-        <div style={styles.dateRow}>\r\n-          <div style={styles.dateGroup}>\r\n-            <label style={styles.label}>Check-In Date:</label>\r\n-            <input type=\"date\" name=\"checkIn\" value={formData.checkIn} onChange={handleChange} style={styles.input} />\r\n+        {/* Guests */}\r\n+        <h4>Additional Guests</h4>\r\n+        {formData.guests.map((g,i)=>(\r\n+          <div key={i} style={styles.guestBox}>\r\n+            <input placeholder=\"Name\" value={g.name} onChange={e=>handleGuestChange(i,\"name\",e.target.value)} />\r\n+            <input placeholder=\"Email\" value={g.email} onChange={e=>handleGuestChange(i,\"email\",e.target.value)} />\r\n+            <input placeholder=\"Phone\" value={g.phone} onChange={e=>handleGuestChange(i,\"phone\",e.target.value)} />\r\n+            <input placeholder=\"Age\" value={g.age} onChange={e=>handleGuestChange(i,\"age\",e.target.value)} />\r\n+            <button type=\"button\" onClick={()=>removeGuest(i)}>Remove</button>\r\n           </div>\r\n-          <div style={styles.dateGroup}>\r\n-            <label style={styles.label}>Check-Out Date:</label>\r\n-            <input type=\"date\" name=\"checkOut\" value={formData.checkOut} onChange={handleChange} style={styles.input} />\r\n-          </div>\r\n-        </div>\r\n+        ))}\r\n+        <button type=\"button\" onClick={addGuest}>Add Guest</button>\r\n \r\n-        <label style={styles.label}>Payment Method:</label>\r\n-        <div style={styles.radioGroup}>\r\n-          <label>\r\n-            <input type=\"radio\" name=\"paymentStatus\" value=\"Online\" checked={formData.paymentStatus === \"Online\"} onChange={handleChange} />\r\n-            Online\r\n-          </label>\r\n-          <label>\r\n-            <input type=\"radio\" name=\"paymentStatus\" value=\"Cash\" checked={formData.paymentStatus === \"Cash\"} onChange={handleChange} />\r\n-            Cash\r\n-          </label>\r\n-        </div>\r\n+        <h3>Total Amount: ‚Çπ{amount}</h3>\r\n+        {upiString && <div><h4>Pay via UPI</h4><QRCodeSVG value={upiString} size={120}/></div>}\r\n \r\n-        {error && <p style={{ color: \"red\", fontWeight: \"bold\" }}>{error}</p>}\r\n-\r\n-        {formData.paymentStatus === \"Online\" && amount > 0 && (\r\n-          <div style={{ textAlign: \"center\", marginTop: \"20px\" }}>\r\n-            <p>Scan QR to pay ‚Çπ{amount}:</p>\r\n-            <QRCodeSVG value={upiString} size={200} />\r\n-          </div>\r\n-        )}\r\n-\r\n-        {formData.paymentStatus && (\r\n-          <button type=\"submit\" style={styles.button}>\r\n-            {formData.paymentStatus === \"Online\" ? \"‚úÖ Confirm Payment & Book\" : \"üìù Confirm Booking (Cash)\"}\r\n-          </button>\r\n-        )}\r\n+        {error && <p style={{color:\"red\"}}>{error}</p>}\r\n+        <button type=\"submit\" style={styles.submit}>Book Now</button>\r\n       </form>\r\n     </div>\r\n   );\r\n }\r\n \r\n const styles = {\r\n-  container: {\r\n-    padding: \"40px\",\r\n-    maxWidth: \"650px\",\r\n-    margin: \"auto\",\r\n-    backgroundColor: \"#f9f9f9\",\r\n-    borderRadius: \"10px\",\r\n-    boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n-  },\r\n-  heading: {\r\n-    textAlign: \"center\",\r\n-    marginBottom: \"30px\",\r\n-    color: \"#003366\",\r\n-  },\r\n-  form: {\r\n-    display: \"flex\",\r\n-    flexDirection: \"column\",\r\n-    gap: \"15px\",\r\n-  },\r\n-  input: {\r\n-    padding: \"12px\",\r\n-    border: \"1px solid #ccc\",\r\n-    borderRadius: \"8px\",\r\n-    fontSize: \"16px\",\r\n-  },\r\n-  label: {\r\n-    fontWeight: \"bold\",\r\n-    marginBottom: \"6px\",\r\n-    color: \"#444\",\r\n-  },\r\n-  radioGroup: {\r\n-    display: \"flex\",\r\n-    gap: \"20px\",\r\n-    marginBottom: \"10px\",\r\n-    paddingLeft: \"5px\",\r\n-  },\r\n-  dateRow: {\r\n-    display: \"flex\",\r\n-    gap: \"10px\",\r\n-    flexWrap: \"wrap\",\r\n-    justifyContent: \"space-between\",\r\n-    marginBottom: \"5px\",\r\n-  },\r\n-  dateGroup: {\r\n-    flex: \"1\",\r\n-    minWidth: \"45%\",\r\n-    display: \"flex\",\r\n-    flexDirection: \"column\",\r\n-    gap: \"4px\",\r\n-  },\r\n-  button: {\r\n-    padding: \"12px\",\r\n-    backgroundColor: \"#003366\",\r\n-    color: \"white\",\r\n-    fontSize: \"16px\",\r\n-    fontWeight: \"bold\",\r\n-    border: \"none\",\r\n-    borderRadius: \"8px\",\r\n-    cursor: \"pointer\",\r\n-    marginTop: \"20px\",\r\n-  },\r\n+  container:{padding:\"20px\",maxWidth:\"700px\",margin:\"auto\"},\r\n+  title:{textAlign:\"center\",color:\"#003366\"},\r\n+  form:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},\r\n+  input:{padding:\"10px\",fontSize:\"16px\",borderRadius:\"6px\",border:\"1px solid #ccc\"},\r\n+  guestBox:{display:\"flex\",gap:\"5px\",flexWrap:\"wrap\",alignItems:\"center\"},\r\n+  submit:{padding:\"12px\",background:\"#003366\",color:\"white\",fontSize:\"16px\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\"}\r\n };\r\n \r\n export default Booking;\r\n"
                },
                {
                    "date": 1757274027561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,135 +1,188 @@\n-// src/pages/Booking.js\r\n import React, { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import { QRCodeSVG } from \"qrcode.react\";\r\n \r\n function Booking() {\r\n   const navigate = useNavigate();\r\n   const [formData, setFormData] = useState({\r\n-    fullName: \"\", address: \"\", email: \"\", phone: \"\", purpose: \"\", roomType: \"\",\r\n-    roomsRequired: \"\", checkInDate: \"\", checkInTime: \"\", checkOutDate: \"\", checkOutTime: \"\",\r\n-    category: \"\", paymentStatus: \"\", guests: []\r\n+    fullName: \"\",\r\n+    address: \"\",\r\n+    email: \"\",\r\n+    phone: \"\",\r\n+    purpose: \"\",\r\n+    roomType: \"\",\r\n+    roomsRequired: \"\",\r\n+    checkInDate: \"\",\r\n+    checkInTime: \"\",\r\n+    checkOutDate: \"\",\r\n+    checkOutTime: \"\",\r\n+    category: \"\",\r\n+    paymentStatus: \"\",\r\n+    guests: []\r\n   });\r\n+\r\n   const [amount, setAmount] = useState(0);\r\n   const [error, setError] = useState(\"\");\r\n \r\n-  // --- Calculate days and amount ---\r\n-  const calculateDays = (inDate, outDate) => { if(!inDate||!outDate) return 0; return Math.max(1, Math.ceil((new Date(outDate) - new Date(inDate))/(1000*60*60*24))); };\r\n+  const calculateDays = (inDate, outDate) => {\r\n+    if (!inDate || !outDate) return 0;\r\n+    const start = new Date(inDate);\r\n+    const end = new Date(outDate);\r\n+    return Math.max(1, Math.ceil((end - start) / (1000 * 60 * 60 * 24)));\r\n+  };\r\n+\r\n   const calculateAmount = (updated) => {\r\n     const days = calculateDays(updated.checkInDate, updated.checkOutDate);\r\n-    const rooms = parseInt(updated.roomsRequired)||1;\r\n+    const rooms = parseInt(updated.roomsRequired) || 1;\r\n     const guestsCount = updated.guests.length + 1;\r\n-    const minRooms = Math.ceil(guestsCount/3);\r\n+    const minRooms = Math.ceil(guestsCount / 3);\r\n     const totalRooms = Math.max(rooms, minRooms);\r\n     let rate = 0;\r\n-    switch(updated.roomType){ case \"Single\": rate=800; break; case \"Double\": rate=1200; break; case \"Suite\": rate=1800; break; default: rate=0; }\r\n-    return days>0 ? days*rate*totalRooms : 0;\r\n+    switch (updated.roomType) {\r\n+      case \"Single\": rate = 800; break;\r\n+      case \"Double\": rate = 1200; break;\r\n+      case \"Suite\": rate = 1800; break;\r\n+      default: rate = 0;\r\n+    }\r\n+    return days > 0 ? days * rate * totalRooms : 0;\r\n   };\r\n \r\n-  // --- Availability check ---\r\n-  const checkAvailability = async (checkInDate, checkOutDate, roomsRequired) => {\r\n-    const res = await fetch(\"http://localhost:5000/api/bookings\");\r\n-    const bookings = await res.json();\r\n-    const requestedRooms = parseInt(roomsRequired);\r\n-    const occupiedRooms = bookings.reduce((sum,b)=>{\r\n-      const existingCheckIn = new Date(`${b.checkInDate}T${b.checkInTime}`);\r\n-      const existingCheckOut = new Date(`${b.checkOutDate}T${b.checkOutTime}`);\r\n-      const reqCheckIn = new Date(`${checkInDate}T00:00`);\r\n-      const reqCheckOut = new Date(`${checkOutDate}T23:59`);\r\n-      if(reqCheckOut >= existingCheckIn && reqCheckIn <= existingCheckOut){\r\n-        return sum + (parseInt(b.roomsRequired)||1);\r\n-      }\r\n-      return sum;\r\n-    },0);\r\n-    const totalRooms = 20;\r\n-    return totalRooms - occupiedRooms >= requestedRooms;\r\n-  };\r\n-\r\n-  // --- Handle changes ---\r\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n-    const updated = {...formData, [name]: value};\r\n+    const updated = { ...formData, [name]: value };\r\n     setFormData(updated);\r\n-    if([\"roomType\",\"checkInDate\",\"checkOutDate\",\"roomsRequired\"].includes(name)){\r\n+    if ([\"roomType\", \"checkInDate\", \"checkOutDate\", \"roomsRequired\"].includes(name)) {\r\n       setAmount(calculateAmount(updated));\r\n     }\r\n   };\r\n \r\n   const handleGuestChange = (i, field, value) => {\r\n-    const guests = [...formData.guests]; guests[i][field]=value;\r\n-    setFormData({...formData, guests}); setAmount(calculateAmount({...formData, guests}));\r\n+    const guests = [...formData.guests];\r\n+    guests[i][field] = value;\r\n+    setFormData({ ...formData, guests });\r\n+    setAmount(calculateAmount({ ...formData, guests }));\r\n   };\r\n-  const addGuest = ()=>setFormData({...formData, guests:[...formData.guests, {name:\"\",age:\"\",address:\"\",email:\"\",phone:\"\",purpose:\"\"}]});\r\n-  const removeGuest = (i)=>{ const guests=formData.guests.filter((_,idx)=>idx!==i); setFormData({...formData, guests}); setAmount(calculateAmount({...formData, guests})); };\r\n \r\n-  // --- Submit Booking ---\r\n-  const handleSubmit = async (e)=>{\r\n+  const addGuest = () => {\r\n+    setFormData({ ...formData, guests: [...formData.guests, { name: \"\", age: \"\", address: \"\", email: \"\", phone: \"\", purpose: \"\" }] });\r\n+  };\r\n+\r\n+  const removeGuest = (i) => {\r\n+    const guests = formData.guests.filter((_, idx) => idx !== i);\r\n+    setFormData({ ...formData, guests });\r\n+    setAmount(calculateAmount({ ...formData, guests }));\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n-    if(!formData.fullName || !formData.email || !formData.phone || !formData.roomType || !formData.checkInDate || !formData.checkOutDate){\r\n-      setError(\"‚ö†Ô∏è Please fill all required fields.\"); return;\r\n+    if (!formData.fullName || !formData.email || !formData.phone || !formData.roomType || !formData.checkInDate || !formData.checkOutDate) {\r\n+      setError(\"‚ö†Ô∏è Please fill all required fields.\");\r\n+      return;\r\n     }\r\n-    const available = await checkAvailability(formData.checkInDate, formData.checkOutDate, formData.roomsRequired);\r\n-    if(!available){ alert(\"‚ö†Ô∏è Rooms not available for selected dates\"); return; }\r\n-\r\n-    const bookingData = {...formData, amount, createdAt:new Date().toISOString()};\r\n-    try{\r\n-      const res = await fetch(\"http://localhost:5000/api/bookings\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(bookingData)});\r\n+    const bookingData = { ...formData, amount, createdAt: new Date().toISOString() };\r\n+    try {\r\n+      const res = await fetch(\"http://localhost:5000/api/bookings\", {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(bookingData)\r\n+      });\r\n       const result = await res.json();\r\n       result.success ? navigate(`/success?id=${result.id}`) : alert(\"‚ùå Booking Failed\");\r\n-    }catch{ alert(\"‚ö†Ô∏è Server Error\"); }\r\n+    } catch {\r\n+      alert(\"‚ö†Ô∏è Server Error\");\r\n+    }\r\n   };\r\n \r\n-  const upiString = amount>0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n+  const upiString = amount > 0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n \r\n   return (\r\n     <div style={styles.container}>\r\n       <h2 style={styles.title}>Aryabhatta University ‚Äì Guest House Booking</h2>\r\n       <form onSubmit={handleSubmit} style={styles.form}>\r\n-        {/* Basic fields */}\r\n-        <input style={styles.input} name=\"fullName\" value={formData.fullName} onChange={handleChange} placeholder=\"Full Name\" required/>\r\n-        <input style={styles.input} name=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Email\" required/>\r\n-        <input style={styles.input} name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Phone\" required/>\r\n-        <input style={styles.input} name=\"address\" value={formData.address} onChange={handleChange} placeholder=\"Address\"/>\r\n-        <input style={styles.input} name=\"purpose\" value={formData.purpose} onChange={handleChange} placeholder=\"Purpose of Visit\"/>\r\n+        <input style={styles.input} name=\"fullName\" value={formData.fullName} onChange={handleChange} placeholder=\"Full Name\" required />\r\n+        <input style={styles.input} name=\"address\" value={formData.address} onChange={handleChange} placeholder=\"Address\" required />\r\n+        <input style={styles.input} type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Email\" required />\r\n+        <input style={styles.input} type=\"tel\" name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Mobile Number\" required />\r\n+        <input style={styles.input} name=\"purpose\" value={formData.purpose} onChange={handleChange} placeholder=\"Purpose of Visit\" required />\r\n+        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"No. of Rooms Required\" required />\r\n         <select style={styles.input} name=\"roomType\" value={formData.roomType} onChange={handleChange} required>\r\n-          <option value=\"\">Select Room Type</option><option value=\"Single\">Single</option><option value=\"Double\">Double</option><option value=\"Suite\">Suite</option>\r\n+          <option value=\"\">Select Room Type</option>\r\n+          <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n+          <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n+          <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n         </select>\r\n-        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"Rooms Required\" min=\"1\"/>\r\n-        <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required/>\r\n-        <input style={styles.input} type=\"time\" name=\"checkInTime\" value={formData.checkInTime} onChange={handleChange} required/>\r\n-        <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required/>\r\n-        <input style={styles.input} type=\"time\" name=\"checkOutTime\" value={formData.checkOutTime} onChange={handleChange} required/>\r\n-\r\n-        {/* Guests */}\r\n-        <h4>Additional Guests</h4>\r\n-        {formData.guests.map((g,i)=>(\r\n+        <div style={styles.row}>\r\n+          <div style={styles.col}>\r\n+            <label>Check-In Date</label>\r\n+            <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required />\r\n+          </div>\r\n+          <div style={styles.col}>\r\n+            <label>Check-In Time</label>\r\n+            <input style={styles.input} type=\"time\" name=\"checkInTime\" value={formData.checkInTime} onChange={handleChange} required />\r\n+          </div>\r\n+        </div>\r\n+        <div style={styles.row}>\r\n+          <div style={styles.col}>\r\n+            <label>Check-Out Date</label>\r\n+            <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required />\r\n+          </div>\r\n+          <div style={styles.col}>\r\n+            <label>Check-Out Time</label>\r\n+            <input style={styles.input} type=\"time\" name=\"checkOutTime\" value={formData.checkOutTime} onChange={handleChange} required />\r\n+          </div>\r\n+        </div>\r\n+        <select style={styles.input} name=\"category\" value={formData.category} onChange={handleChange} required>\r\n+          <option value=\"\">Select Category</option>\r\n+          <option value=\"Official\">Official</option>\r\n+          <option value=\"Semi-Private\">Semi-Private</option>\r\n+          <option value=\"Private\">Private</option>\r\n+        </select>\r\n+        <h3 style={styles.subTitle}>Additional Guests</h3>\r\n+        {formData.guests.map((g, i) => (\r\n           <div key={i} style={styles.guestBox}>\r\n-            <input placeholder=\"Name\" value={g.name} onChange={e=>handleGuestChange(i,\"name\",e.target.value)} />\r\n-            <input placeholder=\"Email\" value={g.email} onChange={e=>handleGuestChange(i,\"email\",e.target.value)} />\r\n-            <input placeholder=\"Phone\" value={g.phone} onChange={e=>handleGuestChange(i,\"phone\",e.target.value)} />\r\n-            <input placeholder=\"Age\" value={g.age} onChange={e=>handleGuestChange(i,\"age\",e.target.value)} />\r\n-            <button type=\"button\" onClick={()=>removeGuest(i)}>Remove</button>\r\n+            <input style={styles.input} placeholder=\"Full Name\" value={g.name} onChange={(e) => handleGuestChange(i, \"name\", e.target.value)} required />\r\n+            <input style={styles.input} type=\"number\" placeholder=\"Age\" value={g.age} onChange={(e) => handleGuestChange(i, \"age\", e.target.value)} required />\r\n+            <input style={styles.input} placeholder=\"Address\" value={g.address} onChange={(e) => handleGuestChange(i, \"address\", e.target.value)} required />\r\n+            <input style={styles.input} type=\"email\" placeholder=\"Email\" value={g.email} onChange={(e) => handleGuestChange(i, \"email\", e.target.value)} required />\r\n+            <input style={styles.input} type=\"tel\" placeholder=\"Phone\" value={g.phone} onChange={(e) => handleGuestChange(i, \"phone\", e.target.value)} required />\r\n+            <input style={styles.input} placeholder=\"Purpose of Visit\" value={g.purpose} onChange={(e) => handleGuestChange(i, \"purpose\", e.target.value)} required />\r\n+            <button type=\"button\" onClick={() => removeGuest(i)} style={styles.removeBtn}>‚ùå</button>\r\n           </div>\r\n         ))}\r\n-        <button type=\"button\" onClick={addGuest}>Add Guest</button>\r\n-\r\n-        <h3>Total Amount: ‚Çπ{amount}</h3>\r\n-        {upiString && <div><h4>Pay via UPI</h4><QRCodeSVG value={upiString} size={120}/></div>}\r\n-\r\n-        {error && <p style={{color:\"red\"}}>{error}</p>}\r\n-        <button type=\"submit\" style={styles.submit}>Book Now</button>\r\n+        <button type=\"button\" onClick={addGuest} style={styles.addBtn}>‚ûï Add Guest</button>\r\n+        <label style={styles.label}>Payment Method:</label>\r\n+        <div style={styles.radioGroup}>\r\n+          <label><input type=\"radio\" name=\"paymentStatus\" value=\"Online\" checked={formData.paymentStatus === \"Online\"} onChange={handleChange} required /> Online</label>\r\n+          <label><input type=\"radio\" name=\"paymentStatus\" value=\"Cash\" checked={formData.paymentStatus === \"Cash\"} onChange={handleChange} required /> Cash</label>\r\n+        </div>\r\n+        {amount > 0 && <p style={{ fontWeight: \"bold\", color: \"#003366\" }}>Total Amount: ‚Çπ{amount}</p>}\r\n+        {formData.paymentStatus === \"Online\" && amount > 0 && (\r\n+          <div style={{ textAlign: \"center\", margin: \"10px\" }}>\r\n+            <p>üì≤ Scan & Pay ‚Çπ{amount}</p>\r\n+            <QRCodeSVG value={upiString} size={180} />\r\n+          </div>\r\n+        )}\r\n+        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n+        <button type=\"submit\" style={styles.button}>‚úÖ Confirm Booking</button>\r\n       </form>\r\n     </div>\r\n   );\r\n }\r\n \r\n const styles = {\r\n-  container:{padding:\"20px\",maxWidth:\"700px\",margin:\"auto\"},\r\n-  title:{textAlign:\"center\",color:\"#003366\"},\r\n-  form:{display:\"flex\",flexDirection:\"column\",gap:\"10px\"},\r\n-  input:{padding:\"10px\",fontSize:\"16px\",borderRadius:\"6px\",border:\"1px solid #ccc\"},\r\n-  guestBox:{display:\"flex\",gap:\"5px\",flexWrap:\"wrap\",alignItems:\"center\"},\r\n-  submit:{padding:\"12px\",background:\"#003366\",color:\"white\",fontSize:\"16px\",border:\"none\",borderRadius:\"6px\",cursor:\"pointer\"}\r\n+  container: { maxWidth: \"750px\", margin: \"30px auto\", padding: \"30px\", background: \"#fff\", borderRadius: \"12px\", boxShadow: \"0 3px 10px rgba(0,0,0,0.1)\" },\r\n+  title: { textAlign: \"center\", color: \"#003366\", marginBottom: \"20px\" },\r\n+  form: { display: \"flex\", flexDirection: \"column\", gap: \"10px\" },\r\n+  row: { display: \"flex\", gap: \"15px\", flexWrap: \"wrap\", justifyContent: \"space-between\" },\r\n+  col: { flex: \"1\", minWidth: \"45%\", display: \"flex\", flexDirection: \"column\" },\r\n+  input: { padding: \"10px\", border: \"1px solid #ccc\", borderRadius: \"6px\", fontSize: \"15px\", width: \"100%\" },\r\n+  label: { fontWeight: \"bold\", margin: \"5px 0\" },\r\n+  subTitle: { color: \"#003366\", marginTop: \"20px\" },\r\n+  guestBox: { border: \"1px solid #ddd\", padding: \"10px\", borderRadius: \"8px\", marginBottom: \"10px\", background: \"#f9f9f9\" },\r\n+  addBtn: { background: \"#4CAF50\", color: \"white\", padding: \"8px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginBottom: \"10px\" },\r\n+  removeBtn: { background: \"#FF4B4B\", color: \"white\", padding: \"6px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginTop: \"5px\" },\r\n+  radioGroup: { display: \"flex\", gap: \"20px\", marginBottom: \"10px\" },\r\n+  button: { padding: \"12px\", background: \"#003366\", color: \"#fff\", border: \"none\", borderRadius: \"6px\", fontWeight: \"bold\", cursor: \"pointer\", marginTop: \"15px\" }\r\n };\r\n \r\n export default Booking;\r\n"
                },
                {
                    "date": 1757274649743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import React, { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import { QRCodeSVG } from \"qrcode.react\";\r\n+import axios from \"axios\";\r\n \r\n function Booking() {\r\n   const navigate = useNavigate();\r\n   const [formData, setFormData] = useState({\r\n@@ -22,8 +23,9 @@\n   });\r\n \r\n   const [amount, setAmount] = useState(0);\r\n   const [error, setError] = useState(\"\");\r\n+  const [availability, setAvailability] = useState(\"\"); // For availability status\r\n \r\n   const calculateDays = (inDate, outDate) => {\r\n     if (!inDate || !outDate) return 0;\r\n     const start = new Date(inDate);\r\n@@ -92,26 +94,45 @@\n       alert(\"‚ö†Ô∏è Server Error\");\r\n     }\r\n   };\r\n \r\n+  // ---- New function for checking availability ----\r\n+  const checkAvailability = async () => {\r\n+    if (!formData.roomType) {\r\n+      alert(\"Please select Room Type first\");\r\n+      return;\r\n+    }\r\n+    try {\r\n+      const res = await axios.get(`http://localhost:5000/api/rooms/check-availability/${formData.roomType}`);\r\n+      setAvailability(res.data.available ? \"‚úÖ Rooms Available\" : \"‚ùå Rooms Not Available\");\r\n+    } catch (err) {\r\n+      console.error(err);\r\n+      setAvailability(\"‚ö†Ô∏è Error checking availability\");\r\n+    }\r\n+  };\r\n+\r\n   const upiString = amount > 0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n \r\n   return (\r\n     <div style={styles.container}>\r\n       <h2 style={styles.title}>Aryabhatta University ‚Äì Guest House Booking</h2>\r\n       <form onSubmit={handleSubmit} style={styles.form}>\r\n-        <input style={styles.input} name=\"fullName\" value={formData.fullName} onChange={handleChange} placeholder=\"Full Name\" required />\r\n-        <input style={styles.input} name=\"address\" value={formData.address} onChange={handleChange} placeholder=\"Address\" required />\r\n-        <input style={styles.input} type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Email\" required />\r\n-        <input style={styles.input} type=\"tel\" name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Mobile Number\" required />\r\n-        <input style={styles.input} name=\"purpose\" value={formData.purpose} onChange={handleChange} placeholder=\"Purpose of Visit\" required />\r\n-        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"No. of Rooms Required\" required />\r\n+        {/* Existing form inputs */}\r\n         <select style={styles.input} name=\"roomType\" value={formData.roomType} onChange={handleChange} required>\r\n           <option value=\"\">Select Room Type</option>\r\n           <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n           <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n           <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n         </select>\r\n+        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"No. of Rooms Required\" required />\r\n+\r\n+        {/* ----- New Check Availability Button ----- */}\r\n+        <button type=\"button\" style={{ ...styles.addBtn, background: \"#007BFF\" }} onClick={checkAvailability}>\r\n+          üîç Check Availability\r\n+        </button>\r\n+        {availability && <p style={{ fontWeight: \"bold\", color: availability.includes(\"‚úÖ\") ? \"green\" : \"red\" }}>{availability}</p>}\r\n+\r\n+        {/* Remaining existing form inputs */}\r\n         <div style={styles.row}>\r\n           <div style={styles.col}>\r\n             <label>Check-In Date</label>\r\n             <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required />\r\n@@ -120,56 +141,17 @@\n             <label>Check-In Time</label>\r\n             <input style={styles.input} type=\"time\" name=\"checkInTime\" value={formData.checkInTime} onChange={handleChange} required />\r\n           </div>\r\n         </div>\r\n-        <div style={styles.row}>\r\n-          <div style={styles.col}>\r\n-            <label>Check-Out Date</label>\r\n-            <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required />\r\n-          </div>\r\n-          <div style={styles.col}>\r\n-            <label>Check-Out Time</label>\r\n-            <input style={styles.input} type=\"time\" name=\"checkOutTime\" value={formData.checkOutTime} onChange={handleChange} required />\r\n-          </div>\r\n-        </div>\r\n-        <select style={styles.input} name=\"category\" value={formData.category} onChange={handleChange} required>\r\n-          <option value=\"\">Select Category</option>\r\n-          <option value=\"Official\">Official</option>\r\n-          <option value=\"Semi-Private\">Semi-Private</option>\r\n-          <option value=\"Private\">Private</option>\r\n-        </select>\r\n-        <h3 style={styles.subTitle}>Additional Guests</h3>\r\n-        {formData.guests.map((g, i) => (\r\n-          <div key={i} style={styles.guestBox}>\r\n-            <input style={styles.input} placeholder=\"Full Name\" value={g.name} onChange={(e) => handleGuestChange(i, \"name\", e.target.value)} required />\r\n-            <input style={styles.input} type=\"number\" placeholder=\"Age\" value={g.age} onChange={(e) => handleGuestChange(i, \"age\", e.target.value)} required />\r\n-            <input style={styles.input} placeholder=\"Address\" value={g.address} onChange={(e) => handleGuestChange(i, \"address\", e.target.value)} required />\r\n-            <input style={styles.input} type=\"email\" placeholder=\"Email\" value={g.email} onChange={(e) => handleGuestChange(i, \"email\", e.target.value)} required />\r\n-            <input style={styles.input} type=\"tel\" placeholder=\"Phone\" value={g.phone} onChange={(e) => handleGuestChange(i, \"phone\", e.target.value)} required />\r\n-            <input style={styles.input} placeholder=\"Purpose of Visit\" value={g.purpose} onChange={(e) => handleGuestChange(i, \"purpose\", e.target.value)} required />\r\n-            <button type=\"button\" onClick={() => removeGuest(i)} style={styles.removeBtn}>‚ùå</button>\r\n-          </div>\r\n-        ))}\r\n-        <button type=\"button\" onClick={addGuest} style={styles.addBtn}>‚ûï Add Guest</button>\r\n-        <label style={styles.label}>Payment Method:</label>\r\n-        <div style={styles.radioGroup}>\r\n-          <label><input type=\"radio\" name=\"paymentStatus\" value=\"Online\" checked={formData.paymentStatus === \"Online\"} onChange={handleChange} required /> Online</label>\r\n-          <label><input type=\"radio\" name=\"paymentStatus\" value=\"Cash\" checked={formData.paymentStatus === \"Cash\"} onChange={handleChange} required /> Cash</label>\r\n-        </div>\r\n-        {amount > 0 && <p style={{ fontWeight: \"bold\", color: \"#003366\" }}>Total Amount: ‚Çπ{amount}</p>}\r\n-        {formData.paymentStatus === \"Online\" && amount > 0 && (\r\n-          <div style={{ textAlign: \"center\", margin: \"10px\" }}>\r\n-            <p>üì≤ Scan & Pay ‚Çπ{amount}</p>\r\n-            <QRCodeSVG value={upiString} size={180} />\r\n-          </div>\r\n-        )}\r\n-        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n-        <button type=\"submit\" style={styles.button}>‚úÖ Confirm Booking</button>\r\n+\r\n+        {/* Rest of Booking.jsx stays the same (guests, payment, QR, submit) */}\r\n+        {/* ... */}\r\n       </form>\r\n     </div>\r\n   );\r\n }\r\n \r\n+// Existing styles remain the same\r\n const styles = {\r\n   container: { maxWidth: \"750px\", margin: \"30px auto\", padding: \"30px\", background: \"#fff\", borderRadius: \"12px\", boxShadow: \"0 3px 10px rgba(0,0,0,0.1)\" },\r\n   title: { textAlign: \"center\", color: \"#003366\", marginBottom: \"20px\" },\r\n   form: { display: \"flex\", flexDirection: \"column\", gap: \"10px\" },\r\n"
                },
                {
                    "date": 1757870434103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,15 +18,17 @@\n     checkOutDate: \"\",\r\n     checkOutTime: \"\",\r\n     category: \"\",\r\n     paymentStatus: \"\",\r\n+    persons: \"\",   // üîπ New field for number of persons\r\n     guests: []\r\n   });\r\n \r\n   const [amount, setAmount] = useState(0);\r\n   const [error, setError] = useState(\"\");\r\n   const [availability, setAvailability] = useState(\"\"); // For availability status\r\n \r\n+  // ---- Helper Functions ----\r\n   const calculateDays = (inDate, outDate) => {\r\n     if (!inDate || !outDate) return 0;\r\n     const start = new Date(inDate);\r\n     const end = new Date(outDate);\r\n@@ -35,9 +37,9 @@\n \r\n   const calculateAmount = (updated) => {\r\n     const days = calculateDays(updated.checkInDate, updated.checkOutDate);\r\n     const rooms = parseInt(updated.roomsRequired) || 1;\r\n-    const guestsCount = updated.guests.length + 1;\r\n+    const guestsCount = parseInt(updated.persons) || 1;\r\n     const minRooms = Math.ceil(guestsCount / 3);\r\n     const totalRooms = Math.max(rooms, minRooms);\r\n     let rate = 0;\r\n     switch (updated.roomType) {\r\n@@ -52,30 +54,33 @@\n   const handleChange = (e) => {\r\n     const { name, value } = e.target;\r\n     const updated = { ...formData, [name]: value };\r\n     setFormData(updated);\r\n-    if ([\"roomType\", \"checkInDate\", \"checkOutDate\", \"roomsRequired\"].includes(name)) {\r\n+    if ([\"roomType\", \"checkInDate\", \"checkOutDate\", \"roomsRequired\", \"persons\"].includes(name)) {\r\n       setAmount(calculateAmount(updated));\r\n     }\r\n   };\r\n \r\n-  const handleGuestChange = (i, field, value) => {\r\n-    const guests = [...formData.guests];\r\n-    guests[i][field] = value;\r\n-    setFormData({ ...formData, guests });\r\n-    setAmount(calculateAmount({ ...formData, guests }));\r\n+  // ---- Availability Check Function ----\r\n+  const checkAvailability = async () => {\r\n+    if (!formData.roomType || !formData.persons || !formData.checkInDate) {\r\n+      alert(\"‚ö†Ô∏è Please select Room Type, Number of Persons and Check-in Date.\");\r\n+      return;\r\n+    }\r\n+    try {\r\n+      const res = await axios.post(\"http://localhost:5000/api/rooms/check-availability\", {\r\n+        roomType: formData.roomType,\r\n+        persons: formData.persons,\r\n+        checkInDate: formData.checkInDate\r\n+      });\r\n+      setAvailability(res.data.available ? \"‚úÖ Room is available!\" : \"‚ùå No rooms available for selected criteria.\");\r\n+    } catch (err) {\r\n+      console.error(err);\r\n+      setAvailability(\"‚ö†Ô∏è Error checking availability\");\r\n+    }\r\n   };\r\n \r\n-  const addGuest = () => {\r\n-    setFormData({ ...formData, guests: [...formData.guests, { name: \"\", age: \"\", address: \"\", email: \"\", phone: \"\", purpose: \"\" }] });\r\n-  };\r\n-\r\n-  const removeGuest = (i) => {\r\n-    const guests = formData.guests.filter((_, idx) => idx !== i);\r\n-    setFormData({ ...formData, guests });\r\n-    setAmount(calculateAmount({ ...formData, guests }));\r\n-  };\r\n-\r\n+  // ---- Booking Submit ----\r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (!formData.fullName || !formData.email || !formData.phone || !formData.roomType || !formData.checkInDate || !formData.checkOutDate) {\r\n       setError(\"‚ö†Ô∏è Please fill all required fields.\");\r\n@@ -94,77 +99,56 @@\n       alert(\"‚ö†Ô∏è Server Error\");\r\n     }\r\n   };\r\n \r\n-  // ---- New function for checking availability ----\r\n-  const checkAvailability = async () => {\r\n-    if (!formData.roomType) {\r\n-      alert(\"Please select Room Type first\");\r\n-      return;\r\n-    }\r\n-    try {\r\n-      const res = await axios.get(`http://localhost:5000/api/rooms/check-availability/${formData.roomType}`);\r\n-      setAvailability(res.data.available ? \"‚úÖ Rooms Available\" : \"‚ùå Rooms Not Available\");\r\n-    } catch (err) {\r\n-      console.error(err);\r\n-      setAvailability(\"‚ö†Ô∏è Error checking availability\");\r\n-    }\r\n-  };\r\n-\r\n   const upiString = amount > 0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n \r\n   return (\r\n     <div style={styles.container}>\r\n       <h2 style={styles.title}>Aryabhatta University ‚Äì Guest House Booking</h2>\r\n       <form onSubmit={handleSubmit} style={styles.form}>\r\n-        {/* Existing form inputs */}\r\n+        \r\n+        {/* Room Type */}\r\n         <select style={styles.input} name=\"roomType\" value={formData.roomType} onChange={handleChange} required>\r\n           <option value=\"\">Select Room Type</option>\r\n           <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n           <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n           <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n         </select>\r\n+\r\n+        {/* Number of Persons */}\r\n+        <input style={styles.input} type=\"number\" name=\"persons\" value={formData.persons} onChange={handleChange} placeholder=\"Number of Persons\" required />\r\n+\r\n+        {/* Rooms Required */}\r\n         <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"No. of Rooms Required\" required />\r\n \r\n-        {/* ----- New Check Availability Button ----- */}\r\n+        {/* Check-in Date */}\r\n+        <label>Check-In Date</label>\r\n+        <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required />\r\n+\r\n+        {/* Check Availability Button */}\r\n         <button type=\"button\" style={{ ...styles.addBtn, background: \"#007BFF\" }} onClick={checkAvailability}>\r\n           üîç Check Availability\r\n         </button>\r\n         {availability && <p style={{ fontWeight: \"bold\", color: availability.includes(\"‚úÖ\") ? \"green\" : \"red\" }}>{availability}</p>}\r\n \r\n-        {/* Remaining existing form inputs */}\r\n-        <div style={styles.row}>\r\n-          <div style={styles.col}>\r\n-            <label>Check-In Date</label>\r\n-            <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required />\r\n-          </div>\r\n-          <div style={styles.col}>\r\n-            <label>Check-In Time</label>\r\n-            <input style={styles.input} type=\"time\" name=\"checkInTime\" value={formData.checkInTime} onChange={handleChange} required />\r\n-          </div>\r\n-        </div>\r\n+        {/* Check-out Date */}\r\n+        <label>Check-Out Date</label>\r\n+        <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required />\r\n \r\n-        {/* Rest of Booking.jsx stays the same (guests, payment, QR, submit) */}\r\n-        {/* ... */}\r\n+        {/* Submit */}\r\n+        <button type=\"submit\" style={styles.button}>Book Now</button>\r\n       </form>\r\n     </div>\r\n   );\r\n }\r\n \r\n-// Existing styles remain the same\r\n const styles = {\r\n   container: { maxWidth: \"750px\", margin: \"30px auto\", padding: \"30px\", background: \"#fff\", borderRadius: \"12px\", boxShadow: \"0 3px 10px rgba(0,0,0,0.1)\" },\r\n   title: { textAlign: \"center\", color: \"#003366\", marginBottom: \"20px\" },\r\n   form: { display: \"flex\", flexDirection: \"column\", gap: \"10px\" },\r\n-  row: { display: \"flex\", gap: \"15px\", flexWrap: \"wrap\", justifyContent: \"space-between\" },\r\n-  col: { flex: \"1\", minWidth: \"45%\", display: \"flex\", flexDirection: \"column\" },\r\n   input: { padding: \"10px\", border: \"1px solid #ccc\", borderRadius: \"6px\", fontSize: \"15px\", width: \"100%\" },\r\n-  label: { fontWeight: \"bold\", margin: \"5px 0\" },\r\n-  subTitle: { color: \"#003366\", marginTop: \"20px\" },\r\n-  guestBox: { border: \"1px solid #ddd\", padding: \"10px\", borderRadius: \"8px\", marginBottom: \"10px\", background: \"#f9f9f9\" },\r\n-  addBtn: { background: \"#4CAF50\", color: \"white\", padding: \"8px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginBottom: \"10px\" },\r\n-  removeBtn: { background: \"#FF4B4B\", color: \"white\", padding: \"6px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginTop: \"5px\" },\r\n-  radioGroup: { display: \"flex\", gap: \"20px\", marginBottom: \"10px\" },\r\n+  addBtn: { background: \"#4CAF50\", color: \"white\", padding: \"10px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginTop: \"10px\" },\r\n   button: { padding: \"12px\", background: \"#003366\", color: \"#fff\", border: \"none\", borderRadius: \"6px\", fontWeight: \"bold\", cursor: \"pointer\", marginTop: \"15px\" }\r\n };\r\n \r\n export default Booking;\r\n"
                },
                {
                    "date": 1757871245339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,154 +1,137 @@\n import React, { useState } from \"react\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-import { QRCodeSVG } from \"qrcode.react\";\r\n-import axios from \"axios\";\r\n \r\n-function Booking() {\r\n-  const navigate = useNavigate();\r\n+const BookingForm = () => {\r\n+  const [roomType, setRoomType] = useState(\"Single\");\r\n+  const [checkInDate, setCheckInDate] = useState(\"\");\r\n+  const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n+  const [availableRooms, setAvailableRooms] = useState(null);\r\n+  const [message, setMessage] = useState(\"\");\r\n   const [formData, setFormData] = useState({\r\n     fullName: \"\",\r\n-    address: \"\",\r\n     email: \"\",\r\n     phone: \"\",\r\n-    purpose: \"\",\r\n-    roomType: \"\",\r\n-    roomsRequired: \"\",\r\n-    checkInDate: \"\",\r\n-    checkInTime: \"\",\r\n-    checkOutDate: \"\",\r\n-    checkOutTime: \"\",\r\n-    category: \"\",\r\n-    paymentStatus: \"\",\r\n-    persons: \"\",   // üîπ New field for number of persons\r\n-    guests: []\r\n+    address: \"\",\r\n+    roomsRequired: 1,\r\n   });\r\n \r\n-  const [amount, setAmount] = useState(0);\r\n-  const [error, setError] = useState(\"\");\r\n-  const [availability, setAvailability] = useState(\"\"); // For availability status\r\n-\r\n-  // ---- Helper Functions ----\r\n-  const calculateDays = (inDate, outDate) => {\r\n-    if (!inDate || !outDate) return 0;\r\n-    const start = new Date(inDate);\r\n-    const end = new Date(outDate);\r\n-    return Math.max(1, Math.ceil((end - start) / (1000 * 60 * 60 * 24)));\r\n-  };\r\n-\r\n-  const calculateAmount = (updated) => {\r\n-    const days = calculateDays(updated.checkInDate, updated.checkOutDate);\r\n-    const rooms = parseInt(updated.roomsRequired) || 1;\r\n-    const guestsCount = parseInt(updated.persons) || 1;\r\n-    const minRooms = Math.ceil(guestsCount / 3);\r\n-    const totalRooms = Math.max(rooms, minRooms);\r\n-    let rate = 0;\r\n-    switch (updated.roomType) {\r\n-      case \"Single\": rate = 800; break;\r\n-      case \"Double\": rate = 1200; break;\r\n-      case \"Suite\": rate = 1800; break;\r\n-      default: rate = 0;\r\n+  // ‚úÖ Check availability\r\n+  const checkAvailability = async () => {\r\n+    if (!checkInDate || !checkOutDate) {\r\n+      setMessage(\"‚ö†Ô∏è Please select check-in and check-out dates.\");\r\n+      return;\r\n     }\r\n-    return days > 0 ? days * rate * totalRooms : 0;\r\n-  };\r\n \r\n-  const handleChange = (e) => {\r\n-    const { name, value } = e.target;\r\n-    const updated = { ...formData, [name]: value };\r\n-    setFormData(updated);\r\n-    if ([\"roomType\", \"checkInDate\", \"checkOutDate\", \"roomsRequired\", \"persons\"].includes(name)) {\r\n-      setAmount(calculateAmount(updated));\r\n-    }\r\n-  };\r\n+    const res = await fetch(\"/api/rooms/check-availability\", {\r\n+      method: \"POST\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify({ roomType, checkInDate, checkOutDate }),\r\n+    });\r\n \r\n-  // ---- Availability Check Function ----\r\n-  const checkAvailability = async () => {\r\n-    if (!formData.roomType || !formData.persons || !formData.checkInDate) {\r\n-      alert(\"‚ö†Ô∏è Please select Room Type, Number of Persons and Check-in Date.\");\r\n-      return;\r\n-    }\r\n-    try {\r\n-      const res = await axios.post(\"http://localhost:5000/api/rooms/check-availability\", {\r\n-        roomType: formData.roomType,\r\n-        persons: formData.persons,\r\n-        checkInDate: formData.checkInDate\r\n-      });\r\n-      setAvailability(res.data.available ? \"‚úÖ Room is available!\" : \"‚ùå No rooms available for selected criteria.\");\r\n-    } catch (err) {\r\n-      console.error(err);\r\n-      setAvailability(\"‚ö†Ô∏è Error checking availability\");\r\n-    }\r\n+    const data = await res.json();\r\n+    setAvailableRooms(data.availableRooms);\r\n+    setMessage(data.message);\r\n   };\r\n \r\n-  // ---- Booking Submit ----\r\n-  const handleSubmit = async (e) => {\r\n+  // ‚úÖ Submit Booking\r\n+  const submitBooking = async (e) => {\r\n     e.preventDefault();\r\n-    if (!formData.fullName || !formData.email || !formData.phone || !formData.roomType || !formData.checkInDate || !formData.checkOutDate) {\r\n-      setError(\"‚ö†Ô∏è Please fill all required fields.\");\r\n+    if (!availableRooms) {\r\n+      setMessage(\"‚ö†Ô∏è Room not available. Check availability first.\");\r\n       return;\r\n     }\r\n-    const bookingData = { ...formData, amount, createdAt: new Date().toISOString() };\r\n-    try {\r\n-      const res = await fetch(\"http://localhost:5000/api/bookings\", {\r\n-        method: \"POST\",\r\n-        headers: { \"Content-Type\": \"application/json\" },\r\n-        body: JSON.stringify(bookingData)\r\n-      });\r\n-      const result = await res.json();\r\n-      result.success ? navigate(`/success?id=${result.id}`) : alert(\"‚ùå Booking Failed\");\r\n-    } catch {\r\n-      alert(\"‚ö†Ô∏è Server Error\");\r\n-    }\r\n+\r\n+    const bookingData = {\r\n+      ...formData,\r\n+      roomType,\r\n+      checkInDate,\r\n+      checkOutDate,\r\n+      roomsRequired: formData.roomsRequired,\r\n+    };\r\n+\r\n+    const res = await fetch(\"/api/bookings\", {\r\n+      method: \"POST\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify(bookingData),\r\n+    });\r\n+    const data = await res.json();\r\n+    setMessage(data.message);\r\n   };\r\n \r\n-  const upiString = amount > 0 ? `upi://pay?pa=9525594357@paytm&pn=GuestHouse&am=${amount}&cu=INR` : \"\";\r\n-\r\n   return (\r\n-    <div style={styles.container}>\r\n-      <h2 style={styles.title}>Aryabhatta University ‚Äì Guest House Booking</h2>\r\n-      <form onSubmit={handleSubmit} style={styles.form}>\r\n-        \r\n-        {/* Room Type */}\r\n-        <select style={styles.input} name=\"roomType\" value={formData.roomType} onChange={handleChange} required>\r\n-          <option value=\"\">Select Room Type</option>\r\n-          <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n-          <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n-          <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n+    <div className=\"booking-form\">\r\n+      <h2>Guest House Booking</h2>\r\n+      <div>\r\n+        <label>Room Type:</label>\r\n+        <select value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n+          <option value=\"Single\">Single</option>\r\n+          <option value=\"Double\">Double</option>\r\n+          <option value=\"Suite\">Suite</option>\r\n         </select>\r\n+      </div>\r\n+      <div>\r\n+        <label>Check-In:</label>\r\n+        <input type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n+      </div>\r\n+      <div>\r\n+        <label>Check-Out:</label>\r\n+        <input type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n+      </div>\r\n+      <button onClick={checkAvailability}>Check Availability</button>\r\n \r\n-        {/* Number of Persons */}\r\n-        <input style={styles.input} type=\"number\" name=\"persons\" value={formData.persons} onChange={handleChange} placeholder=\"Number of Persons\" required />\r\n+      {availableRooms !== null && (\r\n+        <div>\r\n+          {availableRooms > 0 ? (\r\n+            <div>\r\n+              <p>‚úÖ Room is available!</p>\r\n+              <form onSubmit={submitBooking}>\r\n+                <input\r\n+                  type=\"text\"\r\n+                  placeholder=\"Full Name\"\r\n+                  value={formData.fullName}\r\n+                  onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n+                  required\r\n+                />\r\n+                <input\r\n+                  type=\"email\"\r\n+                  placeholder=\"Email\"\r\n+                  value={formData.email}\r\n+                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n+                  required\r\n+                />\r\n+                <input\r\n+                  type=\"tel\"\r\n+                  placeholder=\"Phone\"\r\n+                  value={formData.phone}\r\n+                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n+                  required\r\n+                />\r\n+                <input\r\n+                  type=\"text\"\r\n+                  placeholder=\"Address\"\r\n+                  value={formData.address}\r\n+                  onChange={(e) => setFormData({ ...formData, address: e.target.value })}\r\n+                />\r\n+                <input\r\n+                  type=\"number\"\r\n+                  placeholder=\"Rooms Required\"\r\n+                  min={1}\r\n+                  max={availableRooms}\r\n+                  value={formData.roomsRequired}\r\n+                  onChange={(e) => setFormData({ ...formData, roomsRequired: e.target.value })}\r\n+                  required\r\n+                />\r\n+                <button type=\"submit\">Book Now</button>\r\n+              </form>\r\n+            </div>\r\n+          ) : (\r\n+            <p>‚ùå Room not available.</p>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n \r\n-        {/* Rooms Required */}\r\n-        <input style={styles.input} type=\"number\" name=\"roomsRequired\" value={formData.roomsRequired} onChange={handleChange} placeholder=\"No. of Rooms Required\" required />\r\n-\r\n-        {/* Check-in Date */}\r\n-        <label>Check-In Date</label>\r\n-        <input style={styles.input} type=\"date\" name=\"checkInDate\" value={formData.checkInDate} onChange={handleChange} required />\r\n-\r\n-        {/* Check Availability Button */}\r\n-        <button type=\"button\" style={{ ...styles.addBtn, background: \"#007BFF\" }} onClick={checkAvailability}>\r\n-          üîç Check Availability\r\n-        </button>\r\n-        {availability && <p style={{ fontWeight: \"bold\", color: availability.includes(\"‚úÖ\") ? \"green\" : \"red\" }}>{availability}</p>}\r\n-\r\n-        {/* Check-out Date */}\r\n-        <label>Check-Out Date</label>\r\n-        <input style={styles.input} type=\"date\" name=\"checkOutDate\" value={formData.checkOutDate} onChange={handleChange} required />\r\n-\r\n-        {/* Submit */}\r\n-        <button type=\"submit\" style={styles.button}>Book Now</button>\r\n-      </form>\r\n+      {message && <p>{message}</p>}\r\n     </div>\r\n   );\r\n-}\r\n-\r\n-const styles = {\r\n-  container: { maxWidth: \"750px\", margin: \"30px auto\", padding: \"30px\", background: \"#fff\", borderRadius: \"12px\", boxShadow: \"0 3px 10px rgba(0,0,0,0.1)\" },\r\n-  title: { textAlign: \"center\", color: \"#003366\", marginBottom: \"20px\" },\r\n-  form: { display: \"flex\", flexDirection: \"column\", gap: \"10px\" },\r\n-  input: { padding: \"10px\", border: \"1px solid #ccc\", borderRadius: \"6px\", fontSize: \"15px\", width: \"100%\" },\r\n-  addBtn: { background: \"#4CAF50\", color: \"white\", padding: \"10px\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginTop: \"10px\" },\r\n-  button: { padding: \"12px\", background: \"#003366\", color: \"#fff\", border: \"none\", borderRadius: \"6px\", fontWeight: \"bold\", cursor: \"pointer\", marginTop: \"15px\" }\r\n };\r\n \r\n-export default Booking;\r\n+export default BookingForm;\r\n"
                },
                {
                    "date": 1757871644770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,137 +1,119 @@\n import React, { useState } from \"react\";\r\n+import './BookingForm.css'; // ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è CSS ‡§´‡§º‡§æ‡§á‡§≤\r\n \r\n const BookingForm = () => {\r\n   const [roomType, setRoomType] = useState(\"Single\");\r\n   const [checkInDate, setCheckInDate] = useState(\"\");\r\n   const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n   const [availableRooms, setAvailableRooms] = useState(null);\r\n   const [message, setMessage] = useState(\"\");\r\n+  const [showBookingForm, setShowBookingForm] = useState(false);\r\n   const [formData, setFormData] = useState({\r\n     fullName: \"\",\r\n     email: \"\",\r\n     phone: \"\",\r\n-    address: \"\",\r\n-    roomsRequired: 1,\r\n   });\r\n \r\n-  // ‚úÖ Check availability\r\n-  const checkAvailability = async () => {\r\n+  // ‚úÖ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö\r\n+  const checkAvailability = () => {\r\n+    // ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§¨‡•à‡§ï‡§è‡§Ç‡§° API ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç‡§ó‡•á‡•§\r\n+    // ‡§Ö‡§≠‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ ‡§è‡§ï ‡§°‡§Æ‡•Ä ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§\r\n+    // ‡§Ö‡§∏‡§≤‡•Ä ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§è‡§ï 'fetch' ‡§Ø‡§æ 'axios' ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§π‡•ã‡§ó‡§æ‡•§\r\n+\r\n     if (!checkInDate || !checkOutDate) {\r\n-      setMessage(\"‚ö†Ô∏è Please select check-in and check-out dates.\");\r\n+      setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ö‡•á‡§ï-‡§á‡§® ‡§î‡§∞ ‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•á‡§Ç ‡§ö‡•Å‡§®‡•á‡§Ç‡•§\");\r\n       return;\r\n     }\r\n \r\n-    const res = await fetch(\"/api/rooms/check-availability\", {\r\n-      method: \"POST\",\r\n-      headers: { \"Content-Type\": \"application/json\" },\r\n-      body: JSON.stringify({ roomType, checkInDate, checkOutDate }),\r\n-    });\r\n-\r\n-    const data = await res.json();\r\n-    setAvailableRooms(data.availableRooms);\r\n-    setMessage(data.message);\r\n+    // ‡§Ø‡§π‡§æ‡§Å ‡§π‡§Æ ‡§è‡§ï ‡§°‡§Æ‡•Ä ‡§≤‡•â‡§ú‡§ø‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§\r\n+    // ‡§Æ‡§æ‡§® ‡§≤‡•Ä‡§ú‡§ø‡§è 'Single' ‡§ï‡•á ‡§≤‡§ø‡§è 5 ‡§ï‡§Æ‡§∞‡•á ‡§î‡§∞ 'Double' ‡§ï‡•á ‡§≤‡§ø‡§è 2 ‡§ï‡§Æ‡§∞‡•á ‡§π‡§Æ‡•á‡§∂‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç‡•§\r\n+    // 'Suite' ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•Ä‡•§\r\n+    const available = roomType === \"Single\" ? 5 : roomType === \"Double\" ? 2 : 0;\r\n+    \r\n+    setAvailableRooms(available);\r\n+    if (available > 0) {\r\n+      setMessage(`‚úÖ ${available} ${roomType} ‡§ï‡§Æ‡§∞‡•á ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç!`);\r\n+      setShowBookingForm(true);\r\n+    } else {\r\n+      setMessage(`‚ùå ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§ï‡§Æ‡§∞‡•á ‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç‡•§`);\r\n+      setShowBookingForm(false);\r\n+    }\r\n   };\r\n \r\n-  // ‚úÖ Submit Booking\r\n-  const submitBooking = async (e) => {\r\n+  // ‚úÖ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç\r\n+  const handleBooking = (e) => {\r\n     e.preventDefault();\r\n-    if (!availableRooms) {\r\n-      setMessage(\"‚ö†Ô∏è Room not available. Check availability first.\");\r\n+    if (!formData.fullName || !formData.email || !formData.phone) {\r\n+      setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§\");\r\n       return;\r\n     }\r\n \r\n-    const bookingData = {\r\n-      ...formData,\r\n+    // ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§¨‡•à‡§ï‡§è‡§Ç‡§° API ‡§™‡§∞ ‡§≠‡•á‡§ú‡•á‡§Ç‡§ó‡•á‡•§\r\n+    // ‡§Ö‡§∏‡§≤‡•Ä ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§è‡§ï 'fetch' ‡§Ø‡§æ 'axios' POST ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§π‡•ã‡§ó‡§æ‡•§\r\n+    const bookingDetails = {\r\n       roomType,\r\n       checkInDate,\r\n       checkOutDate,\r\n-      roomsRequired: formData.roomsRequired,\r\n+      ...formData\r\n     };\r\n \r\n-    const res = await fetch(\"/api/bookings\", {\r\n-      method: \"POST\",\r\n-      headers: { \"Content-Type\": \"application/json\" },\r\n-      body: JSON.stringify(bookingData),\r\n-    });\r\n-    const data = await res.json();\r\n-    setMessage(data.message);\r\n+    console.log(\"Booking Details:\", bookingDetails);\r\n+    \r\n+    // ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§´‡§≤ ‡§π‡•ã‡§®‡•á ‡§™‡§∞\r\n+    setMessage(\"‚úÖ ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡•ã ‡§ó‡§à ‡§π‡•à!\");\r\n+    setAvailableRooms(null); // ‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§ï‡•ã ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç\r\n+    setShowBookingForm(false);\r\n+    setFormData({ fullName: \"\", email: \"\", phone: \"\" });\r\n   };\r\n \r\n   return (\r\n-    <div className=\"booking-form\">\r\n-      <h2>Guest House Booking</h2>\r\n-      <div>\r\n-        <label>Room Type:</label>\r\n+    <div className=\"booking-container\">\r\n+      <h2>‡§∞‡•Ç‡§Æ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó</h2>\r\n+      <div className=\"availability-checker\">\r\n+        <label>‡§ï‡§Æ‡§∞‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>\r\n         <select value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n           <option value=\"Single\">Single</option>\r\n           <option value=\"Double\">Double</option>\r\n           <option value=\"Suite\">Suite</option>\r\n         </select>\r\n-      </div>\r\n-      <div>\r\n-        <label>Check-In:</label>\r\n+        \r\n+        <label>‡§ö‡•á‡§ï-‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n         <input type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n-      </div>\r\n-      <div>\r\n-        <label>Check-Out:</label>\r\n+        \r\n+        <label>‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n         <input type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n+        \r\n+        <button onClick={checkAvailability}>‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</button>\r\n       </div>\r\n-      <button onClick={checkAvailability}>Check Availability</button>\r\n \r\n-      {availableRooms !== null && (\r\n-        <div>\r\n-          {availableRooms > 0 ? (\r\n-            <div>\r\n-              <p>‚úÖ Room is available!</p>\r\n-              <form onSubmit={submitBooking}>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  placeholder=\"Full Name\"\r\n-                  value={formData.fullName}\r\n-                  onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n-                  required\r\n-                />\r\n-                <input\r\n-                  type=\"email\"\r\n-                  placeholder=\"Email\"\r\n-                  value={formData.email}\r\n-                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n-                  required\r\n-                />\r\n-                <input\r\n-                  type=\"tel\"\r\n-                  placeholder=\"Phone\"\r\n-                  value={formData.phone}\r\n-                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n-                  required\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  placeholder=\"Address\"\r\n-                  value={formData.address}\r\n-                  onChange={(e) => setFormData({ ...formData, address: e.target.value })}\r\n-                />\r\n-                <input\r\n-                  type=\"number\"\r\n-                  placeholder=\"Rooms Required\"\r\n-                  min={1}\r\n-                  max={availableRooms}\r\n-                  value={formData.roomsRequired}\r\n-                  onChange={(e) => setFormData({ ...formData, roomsRequired: e.target.value })}\r\n-                  required\r\n-                />\r\n-                <button type=\"submit\">Book Now</button>\r\n-              </form>\r\n-            </div>\r\n-          ) : (\r\n-            <p>‚ùå Room not available.</p>\r\n-          )}\r\n-        </div>\r\n+      {message && <p className={`message ${message.startsWith('‚úÖ') ? 'success' : 'error'}`}>{message}</p>}\r\n+\r\n+      {showBookingForm && (\r\n+        <form className=\"booking-form\" onSubmit={handleBooking}>\r\n+          <h3>‡§Ö‡§™‡§®‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç</h3>\r\n+          <input\r\n+            type=\"text\"\r\n+            placeholder=\"‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ\"\r\n+            value={formData.fullName}\r\n+            onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n+          />\r\n+          <input\r\n+            type=\"email\"\r\n+            placeholder=\"‡§à‡§Æ‡•á‡§≤\"\r\n+            value={formData.email}\r\n+            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n+          />\r\n+          <input\r\n+            type=\"tel\"\r\n+            placeholder=\"‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞\"\r\n+            value={formData.phone}\r\n+            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n+          />\r\n+          <button type=\"submit\">‡§Ö‡§≠‡•Ä ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</button>\r\n+        </form>\r\n       )}\r\n-\r\n-      {message && <p>{message}</p>}\r\n     </div>\r\n   );\r\n };\r\n \r\n-export default BookingForm;\r\n+export default BookingForm;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757871770121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,5 @@\n import React, { useState } from \"react\";\r\n-import './BookingForm.css'; // ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è CSS ‡§´‡§º‡§æ‡§á‡§≤\r\n \r\n const BookingForm = () => {\r\n   const [roomType, setRoomType] = useState(\"Single\");\r\n   const [checkInDate, setCheckInDate] = useState(\"\");\r\n@@ -15,20 +14,14 @@\n   });\r\n \r\n   // ‚úÖ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö\r\n   const checkAvailability = () => {\r\n-    // ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§¨‡•à‡§ï‡§è‡§Ç‡§° API ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç‡§ó‡•á‡•§\r\n-    // ‡§Ö‡§≠‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ ‡§è‡§ï ‡§°‡§Æ‡•Ä ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§\r\n-    // ‡§Ö‡§∏‡§≤‡•Ä ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§è‡§ï 'fetch' ‡§Ø‡§æ 'axios' ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§π‡•ã‡§ó‡§æ‡•§\r\n-\r\n     if (!checkInDate || !checkOutDate) {\r\n       setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ö‡•á‡§ï-‡§á‡§® ‡§î‡§∞ ‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•á‡§Ç ‡§ö‡•Å‡§®‡•á‡§Ç‡•§\");\r\n       return;\r\n     }\r\n \r\n-    // ‡§Ø‡§π‡§æ‡§Å ‡§π‡§Æ ‡§è‡§ï ‡§°‡§Æ‡•Ä ‡§≤‡•â‡§ú‡§ø‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§\r\n-    // ‡§Æ‡§æ‡§® ‡§≤‡•Ä‡§ú‡§ø‡§è 'Single' ‡§ï‡•á ‡§≤‡§ø‡§è 5 ‡§ï‡§Æ‡§∞‡•á ‡§î‡§∞ 'Double' ‡§ï‡•á ‡§≤‡§ø‡§è 2 ‡§ï‡§Æ‡§∞‡•á ‡§π‡§Æ‡•á‡§∂‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç‡•§\r\n-    // 'Suite' ‡§ï‡§≠‡•Ä-‡§ï‡§≠‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•Ä‡•§\r\n+    // ‡§°‡§Æ‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï\r\n     const available = roomType === \"Single\" ? 5 : roomType === \"Double\" ? 2 : 0;\r\n     \r\n     setAvailableRooms(available);\r\n     if (available > 0) {\r\n@@ -47,10 +40,8 @@\n       setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§\");\r\n       return;\r\n     }\r\n \r\n-    // ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§¨‡•à‡§ï‡§è‡§Ç‡§° API ‡§™‡§∞ ‡§≠‡•á‡§ú‡•á‡§Ç‡§ó‡•á‡•§\r\n-    // ‡§Ö‡§∏‡§≤‡•Ä ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç, ‡§Ø‡§π ‡§è‡§ï 'fetch' ‡§Ø‡§æ 'axios' POST ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§π‡•ã‡§ó‡§æ‡•§\r\n     const bookingDetails = {\r\n       roomType,\r\n       checkInDate,\r\n       checkOutDate,\r\n@@ -58,59 +49,126 @@\n     };\r\n \r\n     console.log(\"Booking Details:\", bookingDetails);\r\n     \r\n-    // ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§´‡§≤ ‡§π‡•ã‡§®‡•á ‡§™‡§∞\r\n     setMessage(\"‚úÖ ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡•ã ‡§ó‡§à ‡§π‡•à!\");\r\n-    setAvailableRooms(null); // ‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§ï‡•ã ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç\r\n+    setAvailableRooms(null);\r\n     setShowBookingForm(false);\r\n     setFormData({ fullName: \"\", email: \"\", phone: \"\" });\r\n   };\r\n \r\n+  // ‚úÖ Inline Styles\r\n+  const containerStyle = {\r\n+    maxWidth: '600px',\r\n+    margin: '50px auto',\r\n+    padding: '20px',\r\n+    border: '1px solid #ccc',\r\n+    borderRadius: '8px',\r\n+    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n+    fontFamily: 'Arial, sans-serif'\r\n+  };\r\n+\r\n+  const sectionStyle = {\r\n+    display: 'flex',\r\n+    flexDirection: 'column',\r\n+    gap: '15px',\r\n+    marginTop: '20px'\r\n+  };\r\n+\r\n+  const labelStyle = {\r\n+    fontWeight: 'bold'\r\n+  };\r\n+\r\n+  const inputStyle = {\r\n+    padding: '10px',\r\n+    borderRadius: '4px',\r\n+    border: '1px solid #ddd',\r\n+    fontSize: '16px'\r\n+  };\r\n+\r\n+  const buttonStyle = {\r\n+    padding: '10px',\r\n+    borderRadius: '4px',\r\n+    border: 'none',\r\n+    backgroundColor: '#007bff',\r\n+    color: 'white',\r\n+    cursor: 'pointer',\r\n+    transition: 'background-color 0.3s'\r\n+  };\r\n+  \r\n+  const messageStyle = {\r\n+    padding: '10px',\r\n+    borderRadius: '4px',\r\n+    marginTop: '15px',\r\n+    textAlign: 'center'\r\n+  };\r\n+\r\n+  const successMessageStyle = {\r\n+    ...messageStyle,\r\n+    backgroundColor: '#d4edda',\r\n+    color: '#155724',\r\n+    borderColor: '#c3e6cb'\r\n+  };\r\n+\r\n+  const errorMessageStyle = {\r\n+    ...messageStyle,\r\n+    backgroundColor: '#f8d7da',\r\n+    color: '#721c24',\r\n+    borderColor: '#f5c6cb'\r\n+  };\r\n+\r\n   return (\r\n-    <div className=\"booking-container\">\r\n-      <h2>‡§∞‡•Ç‡§Æ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó</h2>\r\n-      <div className=\"availability-checker\">\r\n-        <label>‡§ï‡§Æ‡§∞‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>\r\n-        <select value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n+    <div style={containerStyle}>\r\n+      <h2 style={{ textAlign: 'center', color: '#333' }}>‡§∞‡•Ç‡§Æ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó</h2>\r\n+      \r\n+      <div style={sectionStyle}>\r\n+        <label style={labelStyle}>‡§ï‡§Æ‡§∞‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>\r\n+        <select style={inputStyle} value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n           <option value=\"Single\">Single</option>\r\n           <option value=\"Double\">Double</option>\r\n           <option value=\"Suite\">Suite</option>\r\n         </select>\r\n         \r\n-        <label>‡§ö‡•á‡§ï-‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n-        <input type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n+        <label style={labelStyle}>‡§ö‡•á‡§ï-‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n+        <input style={inputStyle} type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n         \r\n-        <label>‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n-        <input type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n+        <label style={labelStyle}>‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n+        <input style={inputStyle} type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n         \r\n-        <button onClick={checkAvailability}>‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</button>\r\n+        <button style={buttonStyle} onClick={checkAvailability}>‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</button>\r\n       </div>\r\n \r\n-      {message && <p className={`message ${message.startsWith('‚úÖ') ? 'success' : 'error'}`}>{message}</p>}\r\n+      {message && (\r\n+        <p style={message.startsWith('‚úÖ') ? successMessageStyle : errorMessageStyle}>\r\n+          {message}\r\n+        </p>\r\n+      )}\r\n \r\n       {showBookingForm && (\r\n-        <form className=\"booking-form\" onSubmit={handleBooking}>\r\n-          <h3>‡§Ö‡§™‡§®‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç</h3>\r\n+        <form style={sectionStyle} onSubmit={handleBooking}>\r\n+          <h3 style={{ marginTop: '20px' }}>‡§Ö‡§™‡§®‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç</h3>\r\n           <input\r\n+            style={inputStyle}\r\n             type=\"text\"\r\n             placeholder=\"‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ\"\r\n             value={formData.fullName}\r\n             onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n           />\r\n           <input\r\n+            style={inputStyle}\r\n             type=\"email\"\r\n             placeholder=\"‡§à‡§Æ‡•á‡§≤\"\r\n             value={formData.email}\r\n             onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n           />\r\n           <input\r\n+            style={inputStyle}\r\n             type=\"tel\"\r\n             placeholder=\"‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞\"\r\n             value={formData.phone}\r\n             onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n           />\r\n-          <button type=\"submit\">‡§Ö‡§≠‡•Ä ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</button>\r\n+          <button style={buttonStyle} type=\"submit\">‡§Ö‡§≠‡•Ä ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</button>\r\n         </form>\r\n       )}\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1757873141187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,177 +1,219 @@\n import React, { useState } from \"react\";\r\n \r\n const BookingForm = () => {\r\n   const [roomType, setRoomType] = useState(\"Single\");\r\n+  const [roomsRequired, setRoomsRequired] = useState(\"1\");\r\n   const [checkInDate, setCheckInDate] = useState(\"\");\r\n   const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n-  const [availableRooms, setAvailableRooms] = useState(null);\r\n   const [message, setMessage] = useState(\"\");\r\n   const [showBookingForm, setShowBookingForm] = useState(false);\r\n   const [formData, setFormData] = useState({\r\n     fullName: \"\",\r\n     email: \"\",\r\n     phone: \"\",\r\n+    purpose: \"\",\r\n+    category: \"Official\",\r\n   });\r\n \r\n-  // ‚úÖ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö\r\n   const checkAvailability = () => {\r\n-    if (!checkInDate || !checkOutDate) {\r\n-      setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ö‡•á‡§ï-‡§á‡§® ‡§î‡§∞ ‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•á‡§Ç ‡§ö‡•Å‡§®‡•á‡§Ç‡•§\");\r\n+    if (!checkInDate || !checkOutDate || !roomsRequired) {\r\n+      setMessage(\"‚ö†Ô∏è Please fill in all required information.\");\r\n       return;\r\n     }\r\n \r\n-    // ‡§°‡§Æ‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï\r\n-    const available = roomType === \"Single\" ? 5 : roomType === \"Double\" ? 2 : 0;\r\n-    \r\n-    setAvailableRooms(available);\r\n-    if (available > 0) {\r\n-      setMessage(`‚úÖ ${available} ${roomType} ‡§ï‡§Æ‡§∞‡•á ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç!`);\r\n-      setShowBookingForm(true);\r\n-    } else {\r\n-      setMessage(`‚ùå ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§ï‡§Æ‡§∞‡•á ‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç‡•§`);\r\n-      setShowBookingForm(false);\r\n-    }\r\n+    fetch(\"http://localhost:5000/api/bookings/summary\")\r\n+      .then((res) => res.json())\r\n+      .then((data) => {\r\n+        const bookedRooms = data.daily[checkInDate] || 0;\r\n+        const available = 20 - bookedRooms; // Assuming 20 total rooms\r\n+        if (available >= parseInt(roomsRequired)) {\r\n+          setMessage(`‚úÖ ${available} ${roomType} rooms are available!`);\r\n+          setShowBookingForm(true);\r\n+        } else {\r\n+          setMessage(`‚ùå This type of room is not available for these dates.`);\r\n+          setShowBookingForm(false);\r\n+        }\r\n+      })\r\n+      .catch((err) => {\r\n+        console.error(\"Availability check error:\", err);\r\n+        setMessage(\"‚ùå An error occurred while checking availability. Please try again later.\");\r\n+      });\r\n   };\r\n \r\n-  // ‚úÖ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç\r\n   const handleBooking = (e) => {\r\n     e.preventDefault();\r\n-    if (!formData.fullName || !formData.email || !formData.phone) {\r\n-      setMessage(\"‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§\");\r\n-      return;\r\n-    }\r\n \r\n-    const bookingDetails = {\r\n+    const bookingData = {\r\n+      ...formData,\r\n       roomType,\r\n+      roomsRequired,\r\n       checkInDate,\r\n       checkOutDate,\r\n-      ...formData\r\n+      paymentStatus: \"Online\", // Assuming all bookings are online\r\n+      amount: calculateAmount(roomType, checkInDate, checkOutDate, roomsRequired),\r\n     };\r\n \r\n-    console.log(\"Booking Details:\", bookingDetails);\r\n-    \r\n-    setMessage(\"‚úÖ ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡•ã ‡§ó‡§à ‡§π‡•à!\");\r\n-    setAvailableRooms(null);\r\n-    setShowBookingForm(false);\r\n-    setFormData({ fullName: \"\", email: \"\", phone: \"\" });\r\n+    fetch(\"http://localhost:5000/api/bookings\", {\r\n+      method: \"POST\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify(bookingData),\r\n+    })\r\n+      .then((res) => res.json())\r\n+      .then((data) => {\r\n+        setMessage(`‚úÖ Booking successful! Your booking ID is: ${data.bookingId}`);\r\n+        // Reset form or navigate to a success page\r\n+      })\r\n+      .catch((err) => {\r\n+        console.error(\"Booking submission error:\", err);\r\n+        setMessage(\"‚ùå An error occurred while submitting the booking. Please try again later.\");\r\n+      });\r\n   };\r\n \r\n-  // ‚úÖ Inline Styles\r\n-  const containerStyle = {\r\n-    maxWidth: '600px',\r\n-    margin: '50px auto',\r\n-    padding: '20px',\r\n-    border: '1px solid #ccc',\r\n-    borderRadius: '8px',\r\n-    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n-    fontFamily: 'Arial, sans-serif'\r\n+  const calculateAmount = (type, inDate, outDate, rooms) => {\r\n+    const dailyRate = type === \"Single\" ? 800 : type === \"Double\" ? 1200 : 2000;\r\n+    const days = (new Date(outDate) - new Date(inDate)) / (1000 * 60 * 60 * 24);\r\n+    return days * dailyRate * parseInt(rooms);\r\n   };\r\n \r\n-  const sectionStyle = {\r\n-    display: 'flex',\r\n-    flexDirection: 'column',\r\n-    gap: '15px',\r\n-    marginTop: '20px'\r\n-  };\r\n+  return (\r\n+    <div style={styles.container}>\r\n+      <h2 style={styles.title}>üè® Book a Room</h2>\r\n \r\n-  const labelStyle = {\r\n-    fontWeight: 'bold'\r\n-  };\r\n-\r\n-  const inputStyle = {\r\n-    padding: '10px',\r\n-    borderRadius: '4px',\r\n-    border: '1px solid #ddd',\r\n-    fontSize: '16px'\r\n-  };\r\n-\r\n-  const buttonStyle = {\r\n-    padding: '10px',\r\n-    borderRadius: '4px',\r\n-    border: 'none',\r\n-    backgroundColor: '#007bff',\r\n-    color: 'white',\r\n-    cursor: 'pointer',\r\n-    transition: 'background-color 0.3s'\r\n-  };\r\n-  \r\n-  const messageStyle = {\r\n-    padding: '10px',\r\n-    borderRadius: '4px',\r\n-    marginTop: '15px',\r\n-    textAlign: 'center'\r\n-  };\r\n-\r\n-  const successMessageStyle = {\r\n-    ...messageStyle,\r\n-    backgroundColor: '#d4edda',\r\n-    color: '#155724',\r\n-    borderColor: '#c3e6cb'\r\n-  };\r\n-\r\n-  const errorMessageStyle = {\r\n-    ...messageStyle,\r\n-    backgroundColor: '#f8d7da',\r\n-    color: '#721c24',\r\n-    borderColor: '#f5c6cb'\r\n-  };\r\n-\r\n-  return (\r\n-    <div style={containerStyle}>\r\n-      <h2 style={{ textAlign: 'center', color: '#333' }}>‡§∞‡•Ç‡§Æ ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó</h2>\r\n-      \r\n-      <div style={sectionStyle}>\r\n-        <label style={labelStyle}>‡§ï‡§Æ‡§∞‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>\r\n-        <select style={inputStyle} value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n-          <option value=\"Single\">Single</option>\r\n-          <option value=\"Double\">Double</option>\r\n-          <option value=\"Suite\">Suite</option>\r\n+      <div style={styles.formSection}>\r\n+        <label style={styles.label}>Room Type:</label>\r\n+        <select style={styles.input} value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n+          <option value=\"Single\">Single Room (‚Çπ800/night)</option>\r\n+          <option value=\"Double\">Double Room (‚Çπ1200/night)</option>\r\n+          <option value=\"Suite\">Suite Room (‚Çπ2000/night)</option>\r\n         </select>\r\n         \r\n-        <label style={labelStyle}>‡§ö‡•á‡§ï-‡§á‡§® ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n-        <input style={inputStyle} type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n+        <label style={styles.label}>Number of Rooms:</label>\r\n+        <input \r\n+          style={styles.input} \r\n+          type=\"number\" \r\n+          value={roomsRequired} \r\n+          onChange={(e) => setRoomsRequired(e.target.value)} \r\n+          min=\"1\"\r\n+        />\r\n+\r\n+        <label style={styles.label}>Check-In Date:</label>\r\n+        <input style={styles.input} type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n         \r\n-        <label style={labelStyle}>‡§ö‡•á‡§ï-‡§Ü‡§â‡§ü ‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>\r\n-        <input style={inputStyle} type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n+        <label style={styles.label}>Check-Out Date:</label>\r\n+        <input style={styles.input} type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n         \r\n-        <button style={buttonStyle} onClick={checkAvailability}>‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§§‡§æ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</button>\r\n+        <button style={styles.button} onClick={checkAvailability}>Check Availability</button>\r\n       </div>\r\n \r\n       {message && (\r\n-        <p style={message.startsWith('‚úÖ') ? successMessageStyle : errorMessageStyle}>\r\n+        <p style={message.startsWith('‚úÖ') ? styles.successMessage : styles.errorMessage}>\r\n           {message}\r\n         </p>\r\n       )}\r\n \r\n       {showBookingForm && (\r\n-        <form style={sectionStyle} onSubmit={handleBooking}>\r\n-          <h3 style={{ marginTop: '20px' }}>‡§Ö‡§™‡§®‡•Ä ‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡§∞‡•á‡§Ç</h3>\r\n+        <form style={styles.formSection} onSubmit={handleBooking}>\r\n+          <h3 style={{ marginTop: '20px' }}>Complete Your Booking</h3>\r\n           <input\r\n-            style={inputStyle}\r\n+            style={styles.input}\r\n             type=\"text\"\r\n-            placeholder=\"‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ\"\r\n+            placeholder=\"Full Name\"\r\n             value={formData.fullName}\r\n             onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n+            required\r\n           />\r\n           <input\r\n-            style={inputStyle}\r\n+            style={styles.input}\r\n             type=\"email\"\r\n-            placeholder=\"‡§à‡§Æ‡•á‡§≤\"\r\n+            placeholder=\"Email\"\r\n             value={formData.email}\r\n             onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n+            required\r\n           />\r\n           <input\r\n-            style={inputStyle}\r\n+            style={styles.input}\r\n             type=\"tel\"\r\n-            placeholder=\"‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞\"\r\n+            placeholder=\"Phone Number\"\r\n             value={formData.phone}\r\n             onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n+            required\r\n           />\r\n-          <button style={buttonStyle} type=\"submit\">‡§Ö‡§≠‡•Ä ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç</button>\r\n+          <input\r\n+            style={styles.input}\r\n+            type=\"text\"\r\n+            placeholder=\"Purpose of Visit\"\r\n+            value={formData.purpose}\r\n+            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\r\n+          />\r\n+          <select style={styles.input} value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}>\r\n+            <option value=\"Official\">Official</option>\r\n+            <option value=\"Private\">Private</option>\r\n+            <option value=\"Semi-Private\">Semi-Private</option>\r\n+          </select>\r\n+\r\n+          <button style={styles.button} type=\"submit\">Submit Booking</button>\r\n         </form>\r\n       )}\r\n     </div>\r\n   );\r\n };\r\n \r\n+const styles = {\r\n+  container: {\r\n+    maxWidth: '600px',\r\n+    margin: '40px auto',\r\n+    padding: '30px',\r\n+    border: '1px solid #ddd',\r\n+    borderRadius: '10px',\r\n+    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n+    background: '#fff',\r\n+    fontFamily: 'Arial, sans-serif'\r\n+  },\r\n+  title: {\r\n+    textAlign: 'center',\r\n+    color: '#003366',\r\n+    marginBottom: '20px'\r\n+  },\r\n+  formSection: {\r\n+    display: 'flex',\r\n+    flexDirection: 'column',\r\n+    gap: '15px'\r\n+  },\r\n+  label: {\r\n+    fontSize: '16px',\r\n+    fontWeight: 'bold',\r\n+    color: '#555'\r\n+  },\r\n+  input: {\r\n+    padding: '12px',\r\n+    fontSize: '16px',\r\n+    border: '1px solid #ccc',\r\n+    borderRadius: '8px'\r\n+  },\r\n+  button: {\r\n+    padding: '12px',\r\n+    fontSize: '18px',\r\n+    backgroundColor: '#007bff',\r\n+    color: 'white',\r\n+    border: 'none',\r\n+    borderRadius: '8px',\r\n+    cursor: 'pointer',\r\n+    transition: 'background-color 0.3s',\r\n+  },\r\n+  successMessage: {\r\n+    color: '#28a745',\r\n+    textAlign: 'center',\r\n+    fontWeight: 'bold',\r\n+    fontSize: '16px',\r\n+    marginTop: '20px'\r\n+  },\r\n+  errorMessage: {\r\n+    color: '#dc3545',\r\n+    textAlign: 'center',\r\n+    fontWeight: 'bold',\r\n+    fontSize: '16px',\r\n+    marginTop: '20px'\r\n+  }\r\n+};\r\n+\r\n export default BookingForm;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1758513885165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,219 +1,223 @@\n import React, { useState } from \"react\";\r\n \r\n const BookingForm = () => {\r\n-  const [roomType, setRoomType] = useState(\"Single\");\r\n-  const [roomsRequired, setRoomsRequired] = useState(\"1\");\r\n-  const [checkInDate, setCheckInDate] = useState(\"\");\r\n-  const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n-  const [message, setMessage] = useState(\"\");\r\n-  const [showBookingForm, setShowBookingForm] = useState(false);\r\n-  const [formData, setFormData] = useState({\r\n-    fullName: \"\",\r\n-    email: \"\",\r\n-    phone: \"\",\r\n-    purpose: \"\",\r\n-    category: \"Official\",\r\n-  });\r\n+¬† const [roomType, setRoomType] = useState(\"Single\");\r\n+¬† const [roomsRequired, setRoomsRequired] = useState(\"1\");\r\n+¬† const [checkInDate, setCheckInDate] = useState(\"\");\r\n+¬† const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n+¬† const [message, setMessage] = useState(\"\");\r\n+¬† const [showBookingForm, setShowBookingForm] = useState(false);\r\n+¬† const [formData, setFormData] = useState({\r\n+¬† ¬† fullName: \"\",\r\n+¬† ¬† email: \"\",\r\n+¬† ¬† phone: \"\",\r\n+¬† ¬† purpose: \"\",\r\n+¬† ¬† category: \"Official\",\r\n+¬† });\r\n \r\n-  const checkAvailability = () => {\r\n-    if (!checkInDate || !checkOutDate || !roomsRequired) {\r\n-      setMessage(\"‚ö†Ô∏è Please fill in all required information.\");\r\n-      return;\r\n-    }\r\n+¬† const checkAvailability = () => {\r\n+¬† ¬† if (!checkInDate || !checkOutDate || !roomsRequired) {\r\n+¬† ¬† ¬† setMessage(\"‚ö†Ô∏è Please fill in all required information.\");\r\n+¬† ¬† ¬† return;\r\n+¬† ¬† }\r\n \r\n-    fetch(\"http://localhost:5000/api/bookings/summary\")\r\n-      .then((res) => res.json())\r\n-      .then((data) => {\r\n-        const bookedRooms = data.daily[checkInDate] || 0;\r\n-        const available = 20 - bookedRooms; // Assuming 20 total rooms\r\n-        if (available >= parseInt(roomsRequired)) {\r\n-          setMessage(`‚úÖ ${available} ${roomType} rooms are available!`);\r\n-          setShowBookingForm(true);\r\n+    // Updated API endpoint for availability check\r\n+¬† ¬† fetch(\"http://localhost:5000/api/rooms/check-availability\", {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ roomType, checkInDate, checkOutDate }),\r\n+      })\r\n+¬† ¬† ¬† .then((res) => res.json())\r\n+¬† ¬† ¬† .then((data) => {\r\n+        if (data.availableRooms >= parseInt(roomsRequired)) {\r\n+            setMessage(`‚úÖ ${data.availableRooms} ${roomType} room(s) are available!`);\r\n+            setShowBookingForm(true);\r\n         } else {\r\n-          setMessage(`‚ùå This type of room is not available for these dates.`);\r\n-          setShowBookingForm(false);\r\n+            setMessage(`‚ùå This type of room is not available for these dates.`);\r\n+            setShowBookingForm(false);\r\n         }\r\n-      })\r\n-      .catch((err) => {\r\n-        console.error(\"Availability check error:\", err);\r\n-        setMessage(\"‚ùå An error occurred while checking availability. Please try again later.\");\r\n-      });\r\n-  };\r\n+¬† ¬† ¬† })\r\n+¬† ¬† ¬† .catch((err) => {\r\n+¬† ¬† ¬† ¬† console.error(\"Availability check error:\", err);\r\n+¬† ¬† ¬† ¬† setMessage(\"‚ùå An error occurred while checking availability. Please try again later.\");\r\n+¬† ¬† ¬† });\r\n+¬† };\r\n \r\n-  const handleBooking = (e) => {\r\n-    e.preventDefault();\r\n+¬† const handleBooking = (e) => {\r\n+¬† ¬† e.preventDefault();\r\n \r\n-    const bookingData = {\r\n-      ...formData,\r\n-      roomType,\r\n-      roomsRequired,\r\n-      checkInDate,\r\n-      checkOutDate,\r\n-      paymentStatus: \"Online\", // Assuming all bookings are online\r\n-      amount: calculateAmount(roomType, checkInDate, checkOutDate, roomsRequired),\r\n-    };\r\n+¬† ¬† const bookingData = {\r\n+¬† ¬† ¬† ...formData,\r\n+¬† ¬† ¬† roomType,\r\n+¬† ¬† ¬† roomsRequired,\r\n+¬† ¬† ¬† checkInDate,\r\n+¬† ¬† ¬† checkOutDate,\r\n+¬† ¬† ¬† paymentStatus: \"Online\", \r\n+¬† ¬† ¬† amount: calculateAmount(roomType, checkInDate, checkOutDate, roomsRequired),\r\n+¬† ¬† };\r\n \r\n-    fetch(\"http://localhost:5000/api/bookings\", {\r\n-      method: \"POST\",\r\n-      headers: { \"Content-Type\": \"application/json\" },\r\n-      body: JSON.stringify(bookingData),\r\n-    })\r\n-      .then((res) => res.json())\r\n-      .then((data) => {\r\n-        setMessage(`‚úÖ Booking successful! Your booking ID is: ${data.bookingId}`);\r\n-        // Reset form or navigate to a success page\r\n-      })\r\n-      .catch((err) => {\r\n-        console.error(\"Booking submission error:\", err);\r\n-        setMessage(\"‚ùå An error occurred while submitting the booking. Please try again later.\");\r\n-      });\r\n-  };\r\n+¬† ¬† fetch(\"http://localhost:5000/api/bookings\", {\r\n+¬† ¬† ¬† method: \"POST\",\r\n+¬† ¬† ¬† headers: { \"Content-Type\": \"application/json\" },\r\n+¬† ¬† ¬† body: JSON.stringify(bookingData),\r\n+¬† ¬† })\r\n+¬† ¬† ¬† .then((res) => res.json())\r\n+¬† ¬† ¬† .then((data) => {\r\n+        // ‚úÖ Updated logic to handle tempId from server\r\n+¬† ¬† ¬† ¬† setMessage(`‚úÖ Booking request received! Your temporary ID is: ${data.tempId}. Awaiting admin approval.`);\r\n+        setShowBookingForm(false); // Hide the form after submission\r\n+¬† ¬† ¬† })\r\n+¬† ¬† ¬† .catch((err) => {\r\n+¬† ¬† ¬† ¬† console.error(\"Booking submission error:\", err);\r\n+¬† ¬† ¬† ¬† setMessage(\"‚ùå An error occurred while submitting the booking. Please try again later.\");\r\n+¬† ¬† ¬† });\r\n+¬† };\r\n \r\n-  const calculateAmount = (type, inDate, outDate, rooms) => {\r\n-    const dailyRate = type === \"Single\" ? 800 : type === \"Double\" ? 1200 : 2000;\r\n-    const days = (new Date(outDate) - new Date(inDate)) / (1000 * 60 * 60 * 24);\r\n-    return days * dailyRate * parseInt(rooms);\r\n-  };\r\n+¬† const calculateAmount = (type, inDate, outDate, rooms) => {\r\n+¬† ¬† const dailyRate = type === \"Single\" ? 800 : type === \"Double\" ? 1200 : 2000;\r\n+¬† ¬† const days = (new Date(outDate) - new Date(inDate)) / (1000 * 60 * 60 * 24);\r\n+¬† ¬† return days * dailyRate * parseInt(rooms);\r\n+¬† };\r\n \r\n-  return (\r\n-    <div style={styles.container}>\r\n-      <h2 style={styles.title}>üè® Book a Room</h2>\r\n+¬† return (\r\n+¬† ¬† <div style={styles.container}>\r\n+¬† ¬† ¬† <h2 style={styles.title}>üè® Book a Room</h2>\r\n \r\n-      <div style={styles.formSection}>\r\n-        <label style={styles.label}>Room Type:</label>\r\n-        <select style={styles.input} value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n-          <option value=\"Single\">Single Room (‚Çπ800/night)</option>\r\n-          <option value=\"Double\">Double Room (‚Çπ1200/night)</option>\r\n-          <option value=\"Suite\">Suite Room (‚Çπ2000/night)</option>\r\n-        </select>\r\n-        \r\n-        <label style={styles.label}>Number of Rooms:</label>\r\n-        <input \r\n-          style={styles.input} \r\n-          type=\"number\" \r\n-          value={roomsRequired} \r\n-          onChange={(e) => setRoomsRequired(e.target.value)} \r\n-          min=\"1\"\r\n-        />\r\n+¬† ¬† ¬† <div style={styles.formSection}>\r\n+¬† ¬† ¬† ¬† <label style={styles.label}>Room Type:</label>\r\n+¬† ¬† ¬† ¬† <select style={styles.input} value={roomType} onChange={(e) => setRoomType(e.target.value)}>\r\n+¬† ¬† ¬† ¬† ¬† <option value=\"Single\">Single Room (‚Çπ800/night)</option>\r\n+¬† ¬† ¬† ¬† ¬† <option value=\"Double\">Double Room (‚Çπ1200/night)</option>\r\n+¬† ¬† ¬† ¬† ¬† <option value=\"Suite\">Suite Room (‚Çπ2000/night)</option>\r\n+¬† ¬† ¬† ¬† </select>\r\n+¬† ¬† ¬† ¬† \r\n+¬† ¬† ¬† ¬† <label style={styles.label}>Number of Rooms:</label>\r\n+¬† ¬† ¬† ¬† <input \r\n+¬† ¬† ¬† ¬† ¬† style={styles.input} \r\n+¬† ¬† ¬† ¬† ¬† type=\"number\" \r\n+¬† ¬† ¬† ¬† ¬† value={roomsRequired} \r\n+¬† ¬† ¬† ¬† ¬† onChange={(e) => setRoomsRequired(e.target.value)} \r\n+¬† ¬† ¬† ¬† ¬† min=\"1\"\r\n+¬† ¬† ¬† ¬† />\r\n \r\n-        <label style={styles.label}>Check-In Date:</label>\r\n-        <input style={styles.input} type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n-        \r\n-        <label style={styles.label}>Check-Out Date:</label>\r\n-        <input style={styles.input} type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n-        \r\n-        <button style={styles.button} onClick={checkAvailability}>Check Availability</button>\r\n-      </div>\r\n+¬† ¬† ¬† ¬† <label style={styles.label}>Check-In Date:</label>\r\n+¬† ¬† ¬† ¬† <input style={styles.input} type=\"date\" value={checkInDate} onChange={(e) => setCheckInDate(e.target.value)} />\r\n+¬† ¬† ¬† ¬† \r\n+¬† ¬† ¬† ¬† <label style={styles.label}>Check-Out Date:</label>\r\n+¬† ¬† ¬† ¬† <input style={styles.input} type=\"date\" value={checkOutDate} onChange={(e) => setCheckOutDate(e.target.value)} />\r\n+¬† ¬† ¬† ¬† \r\n+¬† ¬† ¬† ¬† <button style={styles.button} onClick={checkAvailability}>Check Availability</button>\r\n+¬† ¬† ¬† </div>\r\n \r\n-      {message && (\r\n-        <p style={message.startsWith('‚úÖ') ? styles.successMessage : styles.errorMessage}>\r\n-          {message}\r\n-        </p>\r\n-      )}\r\n+¬† ¬† ¬† {message && (\r\n+¬† ¬† ¬† ¬† <p style={message.startsWith('‚úÖ') ? styles.successMessage : styles.errorMessage}>\r\n+¬† ¬† ¬† ¬† ¬† {message}\r\n+¬† ¬† ¬† ¬† </p>\r\n+¬† ¬† ¬† )}\r\n \r\n-      {showBookingForm && (\r\n-        <form style={styles.formSection} onSubmit={handleBooking}>\r\n-          <h3 style={{ marginTop: '20px' }}>Complete Your Booking</h3>\r\n-          <input\r\n-            style={styles.input}\r\n-            type=\"text\"\r\n-            placeholder=\"Full Name\"\r\n-            value={formData.fullName}\r\n-            onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n-            required\r\n-          />\r\n-          <input\r\n-            style={styles.input}\r\n-            type=\"email\"\r\n-            placeholder=\"Email\"\r\n-            value={formData.email}\r\n-            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n-            required\r\n-          />\r\n-          <input\r\n-            style={styles.input}\r\n-            type=\"tel\"\r\n-            placeholder=\"Phone Number\"\r\n-            value={formData.phone}\r\n-            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n-            required\r\n-          />\r\n-          <input\r\n-            style={styles.input}\r\n-            type=\"text\"\r\n-            placeholder=\"Purpose of Visit\"\r\n-            value={formData.purpose}\r\n-            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\r\n-          />\r\n-          <select style={styles.input} value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}>\r\n-            <option value=\"Official\">Official</option>\r\n-            <option value=\"Private\">Private</option>\r\n-            <option value=\"Semi-Private\">Semi-Private</option>\r\n-          </select>\r\n+¬† ¬† ¬† {showBookingForm && (\r\n+¬† ¬† ¬† ¬† <form style={styles.formSection} onSubmit={handleBooking}>\r\n+¬† ¬† ¬† ¬† ¬† <h3 style={{ marginTop: '20px' }}>Complete Your Booking</h3>\r\n+¬† ¬† ¬† ¬† ¬† <input\r\n+¬† ¬† ¬† ¬† ¬† ¬† style={styles.input}\r\n+¬† ¬† ¬† ¬† ¬† ¬† type=\"text\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† placeholder=\"Full Name\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† value={formData.fullName}\r\n+¬† ¬† ¬† ¬† ¬† ¬† onChange={(e) => setFormData({ ...formData, fullName: e.target.value })}\r\n+¬† ¬† ¬† ¬† ¬† ¬† required\r\n+¬† ¬† ¬† ¬† ¬† />\r\n+¬† ¬† ¬† ¬† ¬† <input\r\n+¬† ¬† ¬† ¬† ¬† ¬† style={styles.input}\r\n+¬† ¬† ¬† ¬† ¬† ¬† type=\"email\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† placeholder=\"Email\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† value={formData.email}\r\n+¬† ¬† ¬† ¬† ¬† ¬† onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n+¬† ¬† ¬† ¬† ¬† ¬† required\r\n+¬† ¬† ¬† ¬† ¬† />\r\n+¬† ¬† ¬† ¬† ¬† <input\r\n+¬† ¬† ¬† ¬† ¬† ¬† style={styles.input}\r\n+¬† ¬† ¬† ¬† ¬† ¬† type=\"tel\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† placeholder=\"Phone Number\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† value={formData.phone}\r\n+¬† ¬† ¬† ¬† ¬† ¬† onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n+¬† ¬† ¬† ¬† ¬† ¬† required\r\n+¬† ¬† ¬† ¬† ¬† />\r\n+¬† ¬† ¬† ¬† ¬† <input\r\n+¬† ¬† ¬† ¬† ¬† ¬† style={styles.input}\r\n+¬† ¬† ¬† ¬† ¬† ¬† type=\"text\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† placeholder=\"Purpose of Visit\"\r\n+¬† ¬† ¬† ¬† ¬† ¬† value={formData.purpose}\r\n+¬† ¬† ¬† ¬† ¬† ¬† onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\r\n+¬† ¬† ¬† ¬† ¬† />\r\n+¬† ¬† ¬† ¬† ¬† <select style={styles.input} value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}>\r\n+¬† ¬† ¬† ¬† ¬† ¬† <option value=\"Official\">Official</option>\r\n+¬† ¬† ¬† ¬† ¬† ¬† <option value=\"Private\">Private</option>\r\n+¬† ¬† ¬† ¬† ¬† ¬† <option value=\"Semi-Private\">Semi-Private</option>\r\n+¬† ¬† ¬† ¬† ¬† </select>\r\n \r\n-          <button style={styles.button} type=\"submit\">Submit Booking</button>\r\n-        </form>\r\n-      )}\r\n-    </div>\r\n-  );\r\n+¬† ¬† ¬† ¬† ¬† <button style={styles.button} type=\"submit\">Submit Booking</button>\r\n+¬† ¬† ¬† ¬† </form>\r\n+¬† ¬† ¬† )}\r\n+¬† ¬† </div>\r\n+¬† );\r\n };\r\n \r\n const styles = {\r\n-  container: {\r\n-    maxWidth: '600px',\r\n-    margin: '40px auto',\r\n-    padding: '30px',\r\n-    border: '1px solid #ddd',\r\n-    borderRadius: '10px',\r\n-    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n-    background: '#fff',\r\n-    fontFamily: 'Arial, sans-serif'\r\n-  },\r\n-  title: {\r\n-    textAlign: 'center',\r\n-    color: '#003366',\r\n-    marginBottom: '20px'\r\n-  },\r\n-  formSection: {\r\n-    display: 'flex',\r\n-    flexDirection: 'column',\r\n-    gap: '15px'\r\n-  },\r\n-  label: {\r\n-    fontSize: '16px',\r\n-    fontWeight: 'bold',\r\n-    color: '#555'\r\n-  },\r\n-  input: {\r\n-    padding: '12px',\r\n-    fontSize: '16px',\r\n-    border: '1px solid #ccc',\r\n-    borderRadius: '8px'\r\n-  },\r\n-  button: {\r\n-    padding: '12px',\r\n-    fontSize: '18px',\r\n-    backgroundColor: '#007bff',\r\n-    color: 'white',\r\n-    border: 'none',\r\n-    borderRadius: '8px',\r\n-    cursor: 'pointer',\r\n-    transition: 'background-color 0.3s',\r\n-  },\r\n-  successMessage: {\r\n-    color: '#28a745',\r\n-    textAlign: 'center',\r\n-    fontWeight: 'bold',\r\n-    fontSize: '16px',\r\n-    marginTop: '20px'\r\n-  },\r\n-  errorMessage: {\r\n-    color: '#dc3545',\r\n-    textAlign: 'center',\r\n-    fontWeight: 'bold',\r\n-    fontSize: '16px',\r\n-    marginTop: '20px'\r\n-  }\r\n+¬† container: {\r\n+¬† ¬† maxWidth: '600px',\r\n+¬† ¬† margin: '40px auto',\r\n+¬† ¬† padding: '30px',\r\n+¬† ¬† border: '1px solid #ddd',\r\n+¬† ¬† borderRadius: '10px',\r\n+¬† ¬† boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\r\n+¬† ¬† background: '#fff',\r\n+¬† ¬† fontFamily: 'Arial, sans-serif'\r\n+¬† },\r\n+¬† title: {\r\n+¬† ¬† textAlign: 'center',\r\n+¬† ¬† color: '#003366',\r\n+¬† ¬† marginBottom: '20px'\r\n+¬† },\r\n+¬† formSection: {\r\n+¬† ¬† display: 'flex',\r\n+¬† ¬† flexDirection: 'column',\r\n+¬† ¬† gap: '15px'\r\n+¬† },\r\n+¬† label: {\r\n+¬† ¬† fontSize: '16px',\r\n+¬† ¬† fontWeight: 'bold',\r\n+¬† ¬† color: '#555'\r\n+¬† },\r\n+¬† input: {\r\n+¬† ¬† padding: '12px',\r\n+¬† ¬† fontSize: '16px',\r\n+¬† ¬† border: '1px solid #ccc',\r\n+¬† ¬† borderRadius: '8px'\r\n+¬† },\r\n+¬† button: {\r\n+¬† ¬† padding: '12px',\r\n+¬† ¬† fontSize: '18px',\r\n+¬† ¬† backgroundColor: '#007bff',\r\n+¬† ¬† color: 'white',\r\n+¬† ¬† border: 'none',\r\n+¬† ¬† borderRadius: '8px',\r\n+¬† ¬† cursor: 'pointer',\r\n+¬† ¬† transition: 'background-color 0.3s',\r\n+¬† },\r\n+¬† successMessage: {\r\n+¬† ¬† color: '#28a745',\r\n+¬† ¬† textAlign: 'center',\r\n+¬† ¬† fontWeight: 'bold',\r\n+¬† ¬† fontSize: '16px',\r\n+¬† ¬† marginTop: '20px'\r\n+¬† },\r\n+¬† errorMessage: {\r\n+¬† ¬† color: '#dc3545',\r\n+¬† ¬† textAlign: 'center',\r\n+¬† ¬† fontWeight: 'bold',\r\n+¬† ¬† fontSize: '16px',\r\n+¬† ¬† marginTop: '20px'\r\n+¬† }\r\n };\r\n \r\n export default BookingForm;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1753928132680,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { QRCodeSVG } from \"qrcode.react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Booking() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    fullName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    roomType: \"\",\r\n    checkIn: \"\",\r\n    checkOut: \"\",\r\n    paymentStatus: \"\",\r\n  });\r\n\r\n  const [amount, setAmount] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const calculateDays = (checkIn, checkOut) => {\r\n    const inDate = new Date(checkIn);\r\n    const outDate = new Date(checkOut);\r\n    const diffTime = outDate - inDate;\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const updatedData = { ...formData, [name]: value };\r\n    setFormData(updatedData);\r\n\r\n    if ([\"roomType\", \"checkIn\", \"checkOut\"].includes(name)) {\r\n      const days = calculateDays(updatedData.checkIn, updatedData.checkOut);\r\n      let rate = 0;\r\n      switch (updatedData.roomType) {\r\n        case \"Single\": rate = 800; break;\r\n        case \"Double\": rate = 1200; break;\r\n        case \"Suite\": rate = 1800; break;\r\n        default: rate = 0;\r\n      }\r\n      setAmount(days > 0 && rate > 0 ? rate * days : 0);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { fullName, email, phone, roomType, checkIn, checkOut, paymentStatus } = formData;\r\n\r\n    if (!fullName || !email || !phone || !roomType || !checkIn || !checkOut || !paymentStatus) {\r\n      setError(\"‚ö†Ô∏è Please fill in all fields.\");\r\n      return;\r\n    }\r\n\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n    if (checkIn < today) {\r\n      setError(\"‚ö†Ô∏è Check-in date cannot be in the past.\");\r\n      return;\r\n    }\r\n    if (checkOut <= checkIn) {\r\n      setError(\"‚ö†Ô∏è Check-out must be after Check-in.\");\r\n      return;\r\n    }\r\n\r\n    setError(\"\");\r\n\r\n    const bookingData = { ...formData, amount, createdAt: new Date().toISOString() };\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/bookings\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(bookingData)\r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (result.success) {\r\n        // ‚úÖ Redirect to Success Page with booking ID\r\n        navigate(`/success?id=${result.id}`);\r\n      } else {\r\n        alert(\"‚ùå Failed to save booking.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error:\", err);\r\n      alert(\"‚ö†Ô∏è Error occurred while saving.\");\r\n    }\r\n  };\r\n\r\n  const upiString = `upi://pay?pa=9525594357@naviaxis&pn=Guest House&am=${amount}&cu=INR&tn=Booking for ${formData.fullName}`;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.heading}>Guest House Booking Form</h2>\r\n      <form onSubmit={handleSubmit} style={styles.form}>\r\n        <input type=\"text\" name=\"fullName\" placeholder=\"Full Name\" value={formData.fullName} onChange={handleChange} style={styles.input} />\r\n        <input type=\"email\" name=\"email\" placeholder=\"Email Address\" value={formData.email} onChange={handleChange} style={styles.input} />\r\n        <input type=\"tel\" name=\"phone\" placeholder=\"Phone Number\" value={formData.phone} onChange={handleChange} style={styles.input} />\r\n\r\n        <select name=\"roomType\" value={formData.roomType} onChange={handleChange} style={styles.input}>\r\n          <option value=\"\">Select Room Type</option>\r\n          <option value=\"Single\">Single Room (‚Çπ800/day)</option>\r\n          <option value=\"Double\">Double Room (‚Çπ1200/day)</option>\r\n          <option value=\"Suite\">Suite (‚Çπ1800/day)</option>\r\n        </select>\r\n\r\n        <div style={styles.dateRow}>\r\n          <div style={styles.dateGroup}>\r\n            <label style={styles.label}>Check-In Date:</label>\r\n            <input type=\"date\" name=\"checkIn\" value={formData.checkIn} onChange={handleChange} style={styles.input} />\r\n          </div>\r\n          <div style={styles.dateGroup}>\r\n            <label style={styles.label}>Check-Out Date:</label>\r\n            <input type=\"date\" name=\"checkOut\" value={formData.checkOut} onChange={handleChange} style={styles.input} />\r\n          </div>\r\n        </div>\r\n\r\n        <label style={styles.label}>Payment Method:</label>\r\n        <div style={styles.radioGroup}>\r\n          <label>\r\n            <input type=\"radio\" name=\"paymentStatus\" value=\"Online\" checked={formData.paymentStatus === \"Online\"} onChange={handleChange} />\r\n            Online\r\n          </label>\r\n          <label>\r\n            <input type=\"radio\" name=\"paymentStatus\" value=\"Cash\" checked={formData.paymentStatus === \"Cash\"} onChange={handleChange} />\r\n            Cash\r\n          </label>\r\n        </div>\r\n\r\n        {error && <p style={{ color: \"red\", fontWeight: \"bold\" }}>{error}</p>}\r\n\r\n        {formData.paymentStatus === \"Online\" && amount > 0 && (\r\n          <div style={{ textAlign: \"center\", marginTop: \"20px\" }}>\r\n            <p>Scan QR to pay ‚Çπ{amount}:</p>\r\n            <QRCodeSVG value={upiString} size={200} />\r\n          </div>\r\n        )}\r\n\r\n        {formData.paymentStatus && (\r\n          <button type=\"submit\" style={styles.button}>\r\n            {formData.paymentStatus === \"Online\" ? \"‚úÖ Confirm Payment & Book\" : \"üìù Confirm Booking (Cash)\"}\r\n          </button>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: \"40px\",\r\n    maxWidth: \"650px\",\r\n    margin: \"auto\",\r\n    backgroundColor: \"#f9f9f9\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n  },\r\n  heading: {\r\n    textAlign: \"center\",\r\n    marginBottom: \"30px\",\r\n    color: \"#003366\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"15px\",\r\n  },\r\n  input: {\r\n    padding: \"12px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"8px\",\r\n    fontSize: \"16px\",\r\n  },\r\n  label: {\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"6px\",\r\n    color: \"#444\",\r\n  },\r\n  radioGroup: {\r\n    display: \"flex\",\r\n    gap: \"20px\",\r\n    marginBottom: \"10px\",\r\n    paddingLeft: \"5px\",\r\n  },\r\n  dateRow: {\r\n    display: \"flex\",\r\n    gap: \"10px\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-between\",\r\n    marginBottom: \"5px\",\r\n  },\r\n  dateGroup: {\r\n    flex: \"1\",\r\n    minWidth: \"45%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"4px\",\r\n  },\r\n  button: {\r\n    padding: \"12px\",\r\n    backgroundColor: \"#003366\",\r\n    color: \"white\",\r\n    fontSize: \"16px\",\r\n    fontWeight: \"bold\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    cursor: \"pointer\",\r\n    marginTop: \"20px\",\r\n  },\r\n};\r\n\r\nexport default Booking;\r\n"
        }
    ]
}